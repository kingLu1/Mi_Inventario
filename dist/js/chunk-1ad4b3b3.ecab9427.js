(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ad4b3b3"],{"1c82":function(e,t,a){},"46d7":function(e,t,a){"use strict";var s=a("5da4"),n=a.n(s);n.a},"56c8":function(e,t,a){},"5da4":function(e,t,a){},6628:function(e,t,a){"use strict";var s=a("b6fc"),n=a.n(s);n.a},"6c05":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(e.activeComponent,{tag:"component",attrs:{activeVendor:e.activeVendor},on:{view:e.viewDetail,backToTable:e.viewTable}})},n=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vs-con-loading__container",attrs:{id:"table-loader"}},[a("div",{staticClass:"data-list-container ",attrs:{id:"data-list-list-view "}},[a("vs-row",[a("vs-col",{attrs:{"vs-lg":"4","vs-sm":"6","vs-xs":"12"}},[a("add",{staticClass:" sidebarX",attrs:{isSidebarActive:e.addVendor},on:{closeSidebar:function(t){e.addVendor=!1},newVendor:e.newVendor}}),a("edit",{staticClass:" sidebarX",attrs:{isSidebarActive:e.editVendor,selected:e.selected},on:{newVendor:e.newVendor,closeSidebar:function(t){e.editVendor=!1}}})],1)],1),a("vx-card",[a("vs-table",{attrs:{"max-items":"10",pagination:"",stripe:"",hoverFlat:"",noDataText:"No Vendor Available",data:e.vendors,search:""},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.data;return e._l(s,(function(t,n){return a("vs-tr",{key:n},[a("vs-td",{attrs:{data:s[n].name}},[e._v("\n              "+e._s(s[n].name)+"\n            ")]),a("vs-td",{attrs:{data:s[n].contact}},[e._v("\n              "+e._s(s[n].contact)+"\n            ")]),a("vs-td",{attrs:{data:s[n].phone}},[e._v("\n              "+e._s(s[n].phone)+"\n            ")]),a("vs-td",{attrs:{data:s[n].created_by}},[e._v("\n              "+e._s(s[n].created_by)+"\n            ")]),a("vs-td",{attrs:{data:s[n].created_on}},[e._v("\n              "+e._s(e._f("moment")(s[n].created_on,"dddd, Do MMMM YYYY"))+"\n            ")]),a("vs-td",[a("div",{staticClass:"flex"},[a("vx-tooltip",{attrs:{text:"See More",position:"top"}},[a("vs-button",{staticClass:"mr-2",attrs:{type:"border","icon-pack":"feather",icon:"icon-eye",color:"primary"},on:{click:function(a){return e.viewMore(t)}}})],1),a("vx-tooltip",{attrs:{text:"Edit",position:"top"}},[a("vs-button",{staticClass:"mr-2",attrs:{type:"border","icon-pack":"feather",icon:"icon-edit-2",color:"dark"},on:{click:function(a){return e.edit(t)}}})],1),a("vx-tooltip",{attrs:{text:"Delete",position:"top"}},[a("vs-button",{attrs:{s:"","icon-pack":"feather",icon:"icon-trash",color:"danger"},on:{click:function(a){return e.openConfirm(t)}}})],1)],1)])],1)}))}}])},[a("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow justify-between",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"flex flex-wrap-reverse items-center"},[a("div",{staticClass:"p-3 mb-4 mr-4 rounded-lg cursor-pointer flex items-center justify-between text-lg font-medium text-base text-primary border border-solid border-primary",on:{click:function(t){e.addVendor=!0}}},[a("feather-icon",{attrs:{icon:"PlusIcon",svgClasses:"h-4 w-4"}}),a("span",{staticClass:"ml-2 text-base text-primary"},[e._v("Add New")])],1)])]),a("template",{slot:"thead"},[a("vs-th",{attrs:{"sort-key":"name"}},[e._v("Name")]),a("vs-th",{attrs:{"sort-key":"contact"}},[e._v("Contact")]),a("vs-th",{attrs:{"sort-key":"phone"}},[e._v("Phone")]),a("vs-th",{attrs:{"sort-key":"created_by"}},[e._v("Created By")]),a("vs-th",{attrs:{"sort-key":"created_on"}},[e._v("Created On")]),a("vs-th",[e._v("Action")])],1)],2)],1)],1)])},r=[],i=(a("7f7f"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vs-sidebar",{staticClass:"items-no-padding add-new-data-sidebar",attrs:{"click-not-close":"","position-right":"",parent:"body",color:"primary",spacer:""},model:{value:e.isSidebarActiveLocal,callback:function(t){e.isSidebarActiveLocal=t},expression:"isSidebarActiveLocal"}},[a("div",{staticClass:"mt-6 flex items-center justify-between px-6"},[a("h4",[e._v("Add Vendor")]),a("feather-icon",{staticClass:"cursor-pointer",attrs:{icon:"XIcon"},on:{click:function(t){t.stopPropagation(),e.isSidebarActiveLocal=!1}}})],1),a("vs-divider",{staticClass:"mb-0"}),a("VuePerfectScrollbar",{staticClass:"scroll-area--data-list-add-new pt-4 pb-6",attrs:{settings:e.settings}},[a("div",{staticClass:"p-6"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"mt-5 w-full",attrs:{label:"Name",name:"Vendor Name",placeholder:"Vendor Name","data-vv-validate-on":"blur"},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("Vendor Name"),expression:"errors.has('Vendor Name')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("Vendor Name")))]),a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"mt-5 w-full",attrs:{label:"Contact Name",name:"Contact Name",placeholder:"Contact Name","data-vv-validate-on":"blur"},model:{value:e.model.vendor.contact,callback:function(t){e.$set(e.model.vendor,"contact",t)},expression:"model.vendor.contact"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("Contact Name"),expression:"errors.has('Contact Name')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("Contact Name")))]),a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric|min:11|max:11",expression:"'required|numeric|min:11|max:11'"}],staticClass:"mt-5 w-full",attrs:{label:"Phone",name:"Contact Phone",placeholder:"Contact Phone","data-vv-validate-on":"blur"},model:{value:e.model.vendor.phone,callback:function(t){e.$set(e.model.vendor,"phone",t)},expression:"model.vendor.phone"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("Contact Phone"),expression:"errors.has('Contact Phone')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("Contact Phone")))])],1)]),a("div",{staticClass:"flex flex-wrap items-center justify-center p-6",attrs:{slot:"footer"},slot:"footer"},[a("vs-button",{ref:"loadableButton",staticClass:"mr-6 vs-con-loading__container",attrs:{id:"button-with-loading"},on:{click:function(t){return e.addVendor()}}},[e._v("Add\n    ")]),a("vs-button",{attrs:{type:"border",color:"danger"},on:{click:function(t){t.stopPropagation(),e.isSidebarActiveLocal=!1}}},[e._v("Cancel")])],1)],1)}),c=[],l=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),d=a("9d63"),v=a.n(d),u=a("659a"),m=a("2f62");function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(a,!0).forEach((function(t){Object(l["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var b={name:"AddVendor",props:{isSidebarActive:{type:Boolean,required:!0}},components:{VuePerfectScrollbar:v.a},data:function(){return{backgroundLoading:"#7367F0",colorLoading:"white",settings:{maxScrollbarLength:60,wheelSpeed:.6},model:{name:"",vendor:{created_on:Date(),created_by:""}}}},methods:{addVendor:function(){var e=this;this.$validator.validateAll().then((function(t){e.$vs.loading({background:e.backgroundLoading,color:e.colorLoading,container:"#button-with-loading",scale:.45});var a={name:e.model.name.toLowerCase()},s=[Object.assign(a,e.model.vendor)];t&&Object(u["b"])().callFunction("VendorCreate",s).then((function(t){e.$emit("newVendor"),e.notify({text:"Successfully Added New Vendor!",title:"",color:"success"}),e.model.vendor={},e.isSidebarActiveLocal=!1,e.$vs.loading.close("#button-with-loading > .con-vs-loading")})).catch((function(t){e.$vs.loading.close("#button-with-loading > .con-vs-loading"),e.notify({text:t.message,title:"Error",color:"danger"})}))}))}},computed:f({isSidebarActiveLocal:{get:function(){return this.isSidebarActive},set:function(e){e||this.$emit("closeSidebar")}}},Object(m["c"])(["AppActiveUser"])),mounted:function(){this.model.vendor.created_by=this.AppActiveUser.first_name+" "+this.AppActiveUser.last_name}},h=b,g=(a("a933"),a("2877")),w=Object(g["a"])(h,i,c,!1,null,null,null),_=w.exports,C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vs-sidebar",{staticClass:"items-no-padding add-new-data-sidebar",attrs:{"click-not-close":"","position-right":"",parent:"body",color:"primary",spacer:""},model:{value:e.isSidebarActiveLocal,callback:function(t){e.isSidebarActiveLocal=t},expression:"isSidebarActiveLocal"}},[a("div",{staticClass:"mt-6 flex items-center justify-between px-6"},[a("h4",[e._v("Edit Vendor")]),a("feather-icon",{staticClass:"cursor-pointer",attrs:{icon:"XIcon"},on:{click:function(t){t.stopPropagation(),e.isSidebarActiveLocal=!1}}})],1),a("vs-divider",{staticClass:"mb-0"}),a("VuePerfectScrollbar",{staticClass:"scroll-area--data-list-add-new pt-4 pb-6",attrs:{settings:e.settings}},[a("div",{staticClass:"p-6"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"mt-5 w-full",attrs:{label:"Name",name:"Vendor Name",placeholder:"Vendor Name","data-vv-validate-on":"blur"},model:{value:e.selected.name,callback:function(t){e.$set(e.selected,"name",t)},expression:"selected.name"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("Vendor Name"),expression:"errors.has('Vendor Name')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("Vendor Name")))]),a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"mt-5 w-full",attrs:{label:"Contact Name",name:"Contact Name",placeholder:"Contact Name","data-vv-validate-on":"blur"},model:{value:e.selected.contact,callback:function(t){e.$set(e.selected,"contact",t)},expression:"selected.contact"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("Contact Name"),expression:"errors.has('Contact Name')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("Contact Name")))]),a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric|min:11|max:11",expression:"'required|numeric|min:11|max:11'"}],staticClass:"mt-5 w-full",attrs:{label:"Phone",name:"Contact Phone",placeholder:"Contact Phone","data-vv-validate-on":"blur"},model:{value:e.selected.phone,callback:function(t){e.$set(e.selected,"phone",t)},expression:"selected.phone"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("Contact Phone"),expression:"errors.has('Contact Phone')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("Contact Phone")))])],1)]),a("div",{staticClass:"flex flex-wrap items-center justify-center p-6",attrs:{slot:"footer"},slot:"footer"},[a("vs-button",{ref:"loadableButton",staticClass:"mr-6 vs-con-loading__container",attrs:{id:"button-with-loading"},on:{click:function(t){return e.editVendor()}}},[e._v("Save\n    ")]),a("vs-button",{attrs:{type:"border",color:"danger"},on:{click:function(t){t.stopPropagation(),e.isSidebarActiveLocal=!1}}},[e._v("Cancel")])],1)],1)},x=[];function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(a,!0).forEach((function(t){Object(l["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var k={name:"EditVendor",props:{isSidebarActive:{type:Boolean,required:!0},selected:{required:!0}},components:{VuePerfectScrollbar:v.a},data:function(){return{settings:{maxScrollbarLength:60,wheelSpeed:.6}}},methods:{editVendor:function(){var e=this;this.selected.last_update=this.AppActiveUser.first_name+" "+this.AppActiveUser.last_name,this.selected.last_update_on=Date(),this.$validator.validateAll().then((function(t){e.$vs.loading({background:e.backgroundLoading,color:e.colorLoading,container:"#button-with-loading",scale:.45});var a=[e.selected];t&&Object(u["b"])().callFunction("VendorEdit",a).then((function(t){e.$emit("newVendor"),e.notify({text:"Successfully Edited Vendor!",title:"",color:"success"}),e.isSidebarActiveLocal=!1,e.$vs.loading.close("#button-with-loading > .con-vs-loading")})).catch((function(t){e.$vs.loading.close("#button-with-loading > .con-vs-loading"),e.notify({text:t.message,title:"Error",color:"danger"})}))}))}},computed:V({isSidebarActiveLocal:{get:function(){return this.isSidebarActive},set:function(e){e||this.$emit("closeSidebar")}}},Object(m["c"])(["AppActiveUser"])),mounted:function(){}},P=k,O=(a("fff3"),Object(g["a"])(P,C,x,!1,null,null,null)),S=O.exports,A=a("f7ea"),N={name:"TableVendor",data:function(){return{vendors:[],addVendor:!1,editVendor:!1,selected:{},hide:!1}},components:{Add:_,Edit:S},methods:{cancel:function(){this.selected={}},edit:function(e){this.editVendor=!0,this.selected=e},openConfirm:function(e){this.selected=e,this.$vs.dialog({type:"confirm",color:"danger",title:"Confirm",text:"Are you sure  you want to delete ".concat(e.name," vendor?"),accept:this.acceptDelete})},acceptDelete:function(){var e=this,t=[{name:this.selected.name}];this.$vs.loading({container:"#table-loader",type:"sound",scale:1}),Object(u["b"])().callFunction("VendorDelete",t).then((function(){e.notify({text:"Deleted Successful!!",title:"",color:"success"}),e.getVendors()})).catch((function(t){e.$vs.loading.close("#table-loader > .con-vs-loading")}))},getVendors:function(){var e=this;this.$vs.loading({container:"#table-loader",type:"sound",scale:1}),this.axios.get(A["b"]).then((function(t){e.vendors=t.data,e.$vs.loading.close("#table-loader > .con-vs-loading")})).catch((function(t){e.notify({text:t.message,title:"Error",color:"danger"}),e.$vs.loading.close("#table-loader  > .con-vs-loading")}))},newVendor:function(){this.getVendors()},viewMore:function(e){this.$emit("view",e)}},mounted:function(){this.getVendors()}},j=N,$=(a("6628"),Object(g["a"])(j,o,r,!1,null,"37c8c6b6",null)),D=$.exports,L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vs-con-loading__container",attrs:{id:"table-loader"}},[a("vx-card",[a("vs-row",[a("vs-col",[a("div",{staticClass:"flex justify-end"},[a("vx-tooltip",{attrs:{text:"Go Back",position:"top"}},[a("vs-button",{staticClass:"mr-2",attrs:{"icon-pack":"feather",icon:"icon-corner-up-left",color:"primary",type:"border"},on:{click:e.backToTable}},[e._v("\n              Back\n            ")])],1)],1)])],1),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-full"},[a("div",[a("p",{staticClass:"mb-4"},[e._v("Name : "+e._s(e.activeVendor.name)+" ")]),a("span"),a("p",{staticClass:"mb-4"},[e._v("Contact Name : "+e._s(e.activeVendor.contact)+" ")]),a("span"),a("p",{staticClass:"mb-4"},[e._v("Contact Number : "+e._s(e.activeVendor.phone)+" ")]),a("span"),a("p",{staticClass:"mb-4"},[e._v("Total Number Of Products : "),a("span",{staticClass:"text-primary bold"},[e._v(" "+e._s(e.products.length))])]),a("span"),a("p",{staticClass:"mb-4"},[e._v(" Created By : "+e._s(e.activeVendor.created_by)+" ")]),a("span"),a("p",{staticClass:"mb-4"},[e._v(" Created On : "+e._s(e._f("moment")(e.activeVendor.created_on,"MMMM Do YYYY, h:mm:ss a"))+" ")]),a("span"),a("p",{staticClass:"mb-4"},[e._v(" Last Updated By: "+e._s(e.activeVendor.last_update))]),a("span"),a("p",{staticClass:"mb-4"},[e._v(" Last Updated On: "+e._s(e._f("moment")(e.activeVendor.last_update_on,"MMMM Do YYYY, h:mm:ss a")))]),a("span")]),e.showProducts?a("div",[a("vs-divider",{attrs:{color:"primary",position:"center"}},[a("span",{staticClass:"text-primary"},[e._v("All Products")])]),a("VuePerfectScrollbar",{staticClass:"scroll-area pr-2",attrs:{settings:e.settings}},[e.products.length?a("div",{staticClass:"items-grid-view vx-row"},e._l(e.products,(function(t){return a("div",{staticClass:"vx-col w-full sm:w-1/3 md:1/5 lg:w-1/6 xl:1/6 "},[a("vx-card",{staticClass:"grid-view-item mb-base overflow-hidden",attrs:{noShadow:"",cardBorder:""}},[a("template",{slot:"no-body"},[a("div",{staticClass:"item-details px-4 pb-4"},[a("div",{staticClass:"my-4"},[a("h6",{staticClass:"truncate font-semibold mb-1"},[e._v("\n                          "+e._s(t.name)+"\n                        ")]),a("p",{staticClass:"item-description truncate text-sm"},[e._v("\n                          "+e._s(t.category)+"\n                        ")])]),a("div",{staticClass:"flex justify-between items-center"},[a("div",{staticClass:"flex text-white py-1 px-2 rounded",class:e.getHealth(t)},[a("feather-icon",{attrs:{icon:"BarChart2Icon",svgClasses:"h-4 w-4"}})],1),a("h6",{staticClass:"font-bold"},[e._v("\n                          "+e._s(e._f("currency")(t.selling_price))+"\n                        ")])])])])],2)],1)})),0):e._e()])],1):e._e(),a("div",{staticClass:"flex"},[e.showProducts?e._e():a("vs-button",{staticClass:"mr-2 w-full",attrs:{color:"success",type:"border"},on:{click:function(t){e.showProducts=!e.showProducts}}},[e._v("\n            Show All Products\n          ")]),e.showProducts?a("vs-button",{staticClass:"mr-2 w-full",attrs:{color:"danger",type:"border"},on:{click:function(t){e.showProducts=!e.showProducts}}},[e._v("\n            Hide Products\n          ")]):e._e(),a("vs-button",{staticClass:"mr-2 w-full",attrs:{color:"danger"},on:{click:e.openConfirm}},[e._v("\n            Delete\n          ")])],1)])])],1)],1)},q=[],T={name:"DetailVendor",data:function(){return{products:[],showProducts:!1,settings:{maxScrollbarLength:10,wheelSpeed:.6}}},props:{activeVendor:{required:!0}},components:{VuePerfectScrollbar:v.a},methods:{backToTable:function(){this.$emit("backToTable")},getProductTotal:function(){var e=this,t=[{vendor:this.activeVendor.name}];Object(u["b"])().callFunction("VendorGetProducts",t).then((function(t){e.products=t})).catch((function(e){}))},getHealth:function(e){var t=e.qty_in_stock/e.qty_per_crate;return 0===t?"bg-dark":t<=e.worst_qty?"bg-danger":t>=e.optimum_qty?"bg-success":t>e.worst_qty?"bg-warning":void 0},openConfirm:function(){var e=this.activeVendor;this.$vs.dialog({type:"confirm",color:"danger",title:"Confirm",text:"Are you sure  you want to delete ".concat(e.name," vendor? Deleting this vendor with all products under it"),accept:this.acceptDelete})},acceptDelete:function(){var e=this,t=[{name:this.activeVendor.name}];this.$vs.loading({container:"#table-loader",type:"sound",scale:1}),Object(u["b"])().callFunction("VendorDelete",t).then((function(){e.notify({text:"Deleted Successful!!",title:"",color:"success"}),e.backToTable()})).catch((function(t){e.$vs.loading.close("#table-loader > .con-vs-loading")}))}},created:function(){this.getProductTotal()}},E=T,M=(a("46d7"),Object(g["a"])(E,L,q,!1,null,"300a6133",null)),Y=M.exports,B={name:"Vendor",data:function(){return{activeComponent:D,activeVendor:{}}},components:{Table:D,Details:Y},methods:{viewDetail:function(e){this.activeVendor=e,this.activeComponent="Details"},viewTable:function(){this.activeComponent="Table"}}},U=B,F=Object(g["a"])(U,s,n,!1,null,"2dcc01d8",null);t["default"]=F.exports},a933:function(e,t,a){"use strict";var s=a("56c8"),n=a.n(s);n.a},b6fc:function(e,t,a){},fff3:function(e,t,a){"use strict";var s=a("1c82"),n=a.n(s);n.a}}]);
//# sourceMappingURL=chunk-1ad4b3b3.ecab9427.js.map