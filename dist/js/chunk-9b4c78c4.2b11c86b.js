(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9b4c78c4"],{"03d1":function(t,e,a){},"1af6":function(t,e,a){var s=a("63b6");s(s.S,"Array",{isArray:a("9003")})},"20fd":function(t,e,a){"use strict";var s=a("d9f6"),r=a("aebd");t.exports=function(t,e,a){e in t?s.f(t,e,r(0,a)):t[e]=a}},3947:function(t,e,a){"use strict";var s=a("03d1"),r=a.n(s);r.a},"549b":function(t,e,a){"use strict";var s=a("d864"),r=a("63b6"),n=a("241e"),o=a("b0dc"),i=a("3702"),c=a("b447"),l=a("20fd"),d=a("7cd6");r(r.S+r.F*!a("4ee1")((function(t){Array.from(t)})),"Array",{from:function(t){var e,a,r,u,v=n(t),f="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,h=void 0!==m,_=0,b=d(v);if(h&&(m=s(m,p>2?arguments[2]:void 0,2)),void 0==b||f==Array&&i(b))for(e=c(v.length),a=new f(e);e>_;_++)l(a,_,h?m(v[_],_):v[_]);else for(u=b.call(v),a=new f;!(r=u.next()).done;_++)l(a,_,h?o(u,m,[r.value,_],!0):r.value);return a.length=_,a}})},"54a1":function(t,e,a){a("6c1c"),a("1654"),t.exports=a("95d5")},"774e":function(t,e,a){t.exports=a("d2d5")},"7a5d":function(t,e,a){},"8b8f":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-full h-full"},[a("transition",{attrs:{name:"slide-fade"}},[a("date-picker",{directives:[{name:"show",rawName:"v-show",value:t.showDatePicker,expression:"showDatePicker"}],staticClass:"mb-base",attrs:{option:t.option},on:{search:t.search}})],1),a(t.activeComponent,{tag:"component",attrs:{records:t.records,date:t.date}})],1)])},r=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vx-card",[a("div",{staticClass:"vx-row flex "},[a("div",{staticClass:"vx-col mb-2 w-full sm:w-1/2 md:1/2 lg:w-1/4 xl:w-1/5"},[a("div",{staticClass:"mb-2"},[a("p",[t._v("Select Outlet"),a("span",{staticClass:"text-danger ml-1"},[t._v("*")])])]),a("v-select",{staticStyle:{width:"196px"},attrs:{label:"slug",options:t.option},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("Outlet"),expression:"errors.has('Outlet')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("Outlet")))])],1),a("div",{staticClass:"vx-col mb-2 flex w-full sm:1/2 md:w-2/4 lg:w-1/4 xl:w-1/5"},[a("div",[a("div",{staticClass:"mb-2"},[a("p",[t._v("From"),a("span",{staticClass:"text-danger ml-1"},[t._v("*")])])]),a("flat-pickr",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"From Date",config:t.configFromdateTimePicker,placeholder:"Select Date"},on:{"on-change":t.onFromChange},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}}),a("div",[a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("From Date"),expression:"errors.has('From Date')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("From Date")))])])],1)]),a("div",{staticClass:"vx-col mb-2 flex w-full sm:w-1/2 md:w-1/2 lg:w-1/4 xl:w-1/5"},[a("div",[a("div",{staticClass:"mb-2"},[a("p",[t._v("To"),a("span",{staticClass:"text-danger ml-1"},[t._v("*")])])]),a("flat-pickr",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"To Date",config:t.configTodateTimePicker,placeholder:"Select Date"},on:{"on-change":t.onToChange},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}}),a("div",[a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("To Date"),expression:"errors.has('To Date')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("To Date")))])])],1)]),a("div",{staticClass:"vx-col actions mt-2 pb-2 pt-1 flex w-full h-full sm:w-full md:w-full lg:w-1/4 xl:w-1/5"},[a("div",{staticClass:"flex flex-wrap"},[a("vs-button",{staticClass:"mr-2",attrs:{color:"primary",type:"filled","icon-pack":"feather",icon:"icon-search"},on:{click:function(e){return t.search()}}},[t._v("\n          Search\n        ")])],1)])])])},o=[],i=a("4a7a"),c=a.n(i),l=a("c38f"),d=a.n(l),u=(a("0952"),{name:"DateRangePicker",props:{option:{required:!0}},data:function(){return{selected:"",fromDate:null,toDate:null,configFromdateTimePicker:{minDate:null,maxDate:null},configTodateTimePicker:{minDate:null}}},methods:{onFromChange:function(t,e,a){this.$set(this.configTodateTimePicker,"minDate",e)},onToChange:function(t,e,a){this.$set(this.configFromdateTimePicker,"maxDate",e)},search:function(){var t=this;this.$validator.validateAll().then((function(e){if(e){var a={selected:t.selected,to:t.toDate,from:t.fromDate};t.$emit("search",a)}}))}},components:{flatPickr:d.a,vSelect:c.a}}),v=u,f=(a("3947"),a("2877")),p=Object(f["a"])(v,n,o,!1,null,"0a4a8879",null),m=p.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vx-card",[a("div",{staticClass:"loading_height flex justify-center items-center"},[a("div",{staticClass:"flex items-center"},[a("feather-icon",{attrs:{icon:"MehIcon",svgClasses:"h-10 w-10"}}),a("p",{staticClass:"font-semibold ml-2"},[t._v("Do Something")])],1)])])},_=[],b={name:"Blank"},x=b,C=(a("c395"),Object(f["a"])(x,h,_,!1,null,"2a155ad7",null)),g=C.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a(t.activeComponent,{tag:"component",attrs:{records:t.records,date:t.date,activePurchase:t.activePurchase}})],1)},y=[],D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vs-con-loading__container",attrs:{id:"table-loader"}},[a("div",{staticClass:"data-list-container ",attrs:{id:"data-list-list-view "}},[a("vx-card",[a("div",{staticClass:"vx-row flex justify-between mb-base"},[a("div",{staticClass:"vx-col"},[a("h3",{staticClass:"mb-2"},[t._v("Bar Purchases")]),t.records.length?a("p",{staticClass:"mb-1"},[t._v("Purchase Total : "),a("span",{staticClass:"money"},[t._v(t._s(t._f("currency")(t.getPurchaseTotal(t.records))))])]):t._e(),t.records.length?a("p",[t._v("Paid Total : "),a("span",{staticClass:"money"},[t._v(t._s(t._f("currency")(t.getPaidTotal(t.records))))])]):t._e()]),a("div",{staticClass:"vx-col"},[a("p",{staticClass:"text-gray"},[t._v("Showing "+t._s(t.records.length)+" result(s) from "),a("span",{staticClass:"text-dark text-bold"},[t._v(t._s(t.date.from))]),t._v("\n            to\n            "),a("span",{staticClass:"text-dark text-bold"},[t._v(t._s(t.date.to))])])])]),a("vs-table",{attrs:{stripe:"",hoverFlat:"",noDataText:"No Record Found",data:t.records},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.data;return t._l(s,(function(e,r){return a("vs-tr",{key:r},[a("vs-td",{attrs:{data:s[r]}},[t._v("\n              "+t._s(r+1)+"\n            ")]),a("vs-td",{attrs:{data:s[r].date}},[t._v("\n              "+t._s(t._f("moment")(s[r].date,"dddd, Do MMMM YYYY"))+"\n            ")]),a("vs-td",{attrs:{data:s[r].total}},[a("div",{staticClass:"money"},[t._v(t._s(t._f("currency")(s[r].total)))])]),a("vs-td",{attrs:{data:s[r].paid}},[a("div",{staticClass:"money"},[t._v(t._s(t._f("currency")(s[r].paid)))])]),a("vs-td",{attrs:{data:s[r].expense}},[a("div",{staticClass:"text-danger"},[t._v(t._s(t._f("currency")(s[r].expense)))])]),a("vs-td",[a("div",{staticClass:"flex"},[a("vx-tooltip",{attrs:{text:"See Details",position:"top"}},[a("vs-button",{staticClass:"mr-2",attrs:{type:"border","icon-pack":"feather",icon:"icon-eye",color:"primary"},on:{click:function(a){return t.viewDetails(e)}}})],1)],1)])],1)}))}}])},[a("template",{slot:"thead"},[a("vs-th",[t._v("#")]),a("vs-th",{attrs:{"sort-key":"date"}},[t._v("Date")]),a("vs-th",{attrs:{"sort-key":"paid"}},[t._v("Purchase Total")]),a("vs-th",{attrs:{"sort-key":""}},[t._v("Paid Total")]),a("vs-th",{attrs:{"sort-key":"expense"}},[t._v("Expense")]),a("vs-th",[t._v("Action")])],1)],2)],1)],1)])},P=[],k=a("0c12"),T=a("659a"),S={name:"BarPurchaseTable",data:function(){return{}},props:{records:{required:!0},date:{required:!0}},methods:{viewDetails:function(t){k["a"].$emit("goToPurchaseDetails",t)},showLoading:function(){this.$vs.loading({container:"#table-loader",type:"sound",scale:2})},listener:function(){var t=this;k["a"].$on("showLoading",(function(){return t.showLoading()}))},getPurchaseTotal:function(t){var e=t.map((function(t){return parseInt(t.total)}));return e.reduce((function(t,e){return t+e}),0)},getPaidTotal:function(t){var e=t.map((function(t){return parseInt(t.paid)}));return e.reduce((function(t,e){return t+e}),0)}},created:function(){this.listener()},watch:{records:function(){this.$vs.loading.close("#table-loader > .con-vs-loading")}}},B=S,$=Object(f["a"])(B,D,P,!1,null,"22bab424",null),M=$.exports,Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vx-card",[a("div",{staticClass:"flex justify-between items-center"},[a("div",{},[a("h4",[t._v("Record For "+t._s(t._f("moment")(t.activePurchase.date,"dddd, Do MMMM YYYY")))])]),a("vx-tooltip",{attrs:{text:"Go Back",position:"top"}},[a("vs-button",{staticClass:"  border",attrs:{"icon-pack":"feather",icon:"icon-corner-up-left",color:"primary",type:"border"},on:{click:function(e){return t.goToPurchaseTable()}}},[t._v("\n          Back\n        ")])],1)],1),a("div",{staticClass:"vx-row pt-4",attrs:{id:"table-loader"}},[a("div",{staticClass:"vx-col w-full"},[a("div",[a("p",{staticClass:"mb-4"},[t._v("Purchased Total : "),a("span",{staticClass:"money"},[t._v(t._s(t._f("currency")(t.activePurchase.total)))])]),a("p",{staticClass:"mb-4"},[t._v("Paid Amount : "),a("span",{staticClass:"money"},[t._v(t._s(t._f("currency")(t.activePurchase.paid)))])]),t.activePurchase.paid_remark?a("p",{staticClass:"mb-4"},[t._v("Remark : "+t._s(t.activePurchase.paid_remark)+" ")]):t._e(),t.activePurchase.expense?a("p",{staticClass:"mb-4"},[t._v("Expense : "),a("span",{staticClass:"text-danger"},[t._v(" "+t._s(t._f("currency")(t.activePurchase.expense)))])]):t._e(),t.activePurchase.expense_remark?a("p",{staticClass:"mb-4"},[t._v(" Expense Remark : "+t._s(t.activePurchase.expense_remark)+" ")]):t._e(),a("p",{staticClass:"mb-4"},[t._v(" Recorded On : "+t._s(t._f("moment")(t.activePurchase.created_on,"MMMM Do YYYY, h:mm:ss a"))+" ")]),a("p",{staticClass:"mb-4"},[t._v(" Recorded By: "+t._s(t.activePurchase.created_by))])]),t.showProducts?a("div",[a("vs-divider",{attrs:{color:"primary",position:"left-center"}},[a("span",{staticClass:"text-primary"},[t._v("Products")])]),a("vs-list",{staticClass:"pt-0"},[t._l(t.activePurchase.products,(function(e){return e.purchasing.length?a("div",[a("vs-list-header",{staticStyle:{"font-size":".85rem"},attrs:{title:t._f("capitalize")(e.vendor),color:"dark"}}),t._l(e.purchasing,(function(e){return a("div",[a("vs-list-item",{attrs:{"icon-pack":"feather",icon:"icon-check",subtitle:t.returnSubtitle(e),title:t._f("capitalize")(e.name)}})],1)}))],2):t._e()})),a("div",{staticClass:"mt-4 mb-5 ml-10"},t._l(t.activePurchase.products,(function(e){return e.purchasing.length?a("div",{staticClass:"flex justify-start mb-2"},[a("h6",[t._v(t._s(t._f("capitalize")(e.vendor))+" : "+t._s(t._f("currency")(t.getVendorTotal(e.purchasing)))+" ")])]):t._e()})),0)],2)],1):t._e()]),a("div",{staticClass:"flex vx-col w-full"},[t.showProducts?t._e():a("vs-button",{staticClass:"mr-2 w-full",attrs:{color:"success",type:"border"},on:{click:function(e){t.showProducts=!t.showProducts}}},[t._v("\n          Show More Details\n        ")]),t.showProducts?a("vs-button",{staticClass:"mr-2 w-full",attrs:{color:"danger",type:"border"},on:{click:function(e){t.showProducts=!t.showProducts}}},[t._v("\n          Hide Details\n        ")]):t._e()],1)])])},A=[],j={name:"BarPurchaseDetails",props:{activePurchase:{required:!0}},data:function(){return{showProducts:!1}},methods:{returnSubtitle:function(t){return"".concat(t.purchasing," Crate(s)(").concat(t.qty_per_crate*t.purchasing," items) cost ‎₦").concat(t.purchasing*t.crate_price)},getVendorTotal:function(t){var e=t.map((function(t){return t.crate_price*t.purchasing}));return e.reduce((function(t,e){return t+e}))},goToPurchaseTable:function(){k["a"].$emit("goToPurchaseTable")}},created:function(){k["a"].$emit("showDatePicker",!1)},beforeDestroy:function(){k["a"].$emit("showDatePicker",!0)}},F=j,O=Object(f["a"])(F,Y,A,!1,null,"27980c80",null),R=O.exports,q={name:"BarPurchaseIndex",props:{records:{required:!0},date:{required:!0}},data:function(){return{activeComponent:M,activePurchase:""}},mounted:function(){k["a"].$emit("showLoading"),this.listener()},methods:{listener:function(){var t=this;k["a"].$on("goToPurchaseDetails",(function(e){t.activePurchase=e,t.activeComponent="BarPurchaseDetails"})),k["a"].$on("goToPurchaseTable",(function(){return t.activeComponent="BarPurchaseTable"}))}},components:{BarPurchaseTable:M,BarPurchaseDetails:R}},E=q,I=Object(f["a"])(E,w,y,!1,null,"953d107e",null),L=I.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a(t.activeComponent,{tag:"component",attrs:{records:t.records,date:t.date,activeSales:t.activeSales}})],1)},z=[],H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vx-card",[a("div",{staticClass:"flex justify-between items-center"},[a("div",{},[a("h4",[t._v("Record For "+t._s(t._f("moment")(t.activeSales.date,"dddd, Do MMMM  YYYY")))])]),a("vx-tooltip",{attrs:{text:"Go Back",position:"top"}},[a("vs-button",{staticClass:"  border",attrs:{"icon-pack":"feather",icon:"icon-corner-up-left",color:"primary",type:"border"},on:{click:function(e){return t.goToSaleTable()}}},[t._v("\n        Back\n      ")])],1)],1),a("div",{staticClass:"vx-row pt-4 ",attrs:{id:"table-loader"}},[a("div",{staticClass:"vx-col w-full"},[a("div",[a("p",{staticClass:"mb-4"},[t._v("Sales Total : "),a("span",{staticClass:"money"},[t._v(t._s(t._f("currency")(t.activeSales.total)))])]),a("p",{staticClass:"mb-4"},[t._v("Cash Remit : "),a("span",{staticClass:"money"},[t._v(t._s(t._f("currency")(t.activeSales.remit_cash)))])]),a("p",{staticClass:"mb-4"},[t._v("Credit Remit : "),a("span",{staticClass:"money"},[t._v(t._s(t._f("currency")(t.activeSales.remit_credit)))])]),a("p",{staticClass:"mb-4"},[t._v("Bad Products : "+t._s(t.activeSales.bad_products.length)+" "),t.activeSales.bad_products.length?a("span",[t.showBadProducts?a("span",{staticClass:"text-danger text-sm cursor-pointer",on:{click:function(e){t.showBadProducts=!t.showBadProducts}}},[t._v("Hide")]):a("span",{staticClass:"text-primary text-sm font-semibold cursor-pointer",on:{click:function(e){t.showBadProducts=!t.showBadProducts}}},[t._v("Show")])]):t._e()]),t.showBadProducts?a("div",{staticClass:"mb-4 -mt-2"},[a("vx-card",{attrs:{"card-border":""}},[a("div",{attrs:{slot:"no-body"},slot:"no-body"},t._l(t.activeSales.bad_products,(function(e){return a("vs-list",{staticClass:"pt-0"},[a("vs-list-item",{attrs:{subtitle:t.returnSubtitleForBadProducts(e)}})],1)})),1)])],1):t._e(),a("p",{staticClass:"mb-4"},[t._v("Debtors : "+t._s(t.activeSales.bad_products.length)+" "),t.activeSales.debts?a("span",[t.showBadProducts?a("span",{staticClass:"text-danger text-sm cursor-pointer",on:{click:function(e){t.showBadProducts=!t.showBadProducts}}},[t._v("Hide")]):a("span",{staticClass:"text-primary text-sm font-semibold cursor-pointer",on:{click:function(e){t.showBadProducts=!t.showBadProducts}}},[t._v("Show")])]):t._e()]),t.showBadProducts?a("div",{staticClass:"mb-4 -mt-2"},[a("vx-card",{attrs:{"card-border":""}},[a("div",{attrs:{slot:"no-body"},slot:"no-body"},t._l(t.activeSales.bad_products,(function(e){return a("vs-list",{staticClass:"pt-0"},[a("vs-list-item",{attrs:{subtitle:t.returnSubtitleForBadProducts(e)}})],1)})),1)])],1):t._e(),a("p",{staticClass:"mb-4"},[t._v(" Recorded On : "+t._s(t._f("moment")(t.activeSales.created_on,"MMMM Do YYYY, h:mm:ss a"))+" ")]),a("p",{staticClass:"mb-4"},[t._v(" Recorded By: "+t._s(t.activeSales.created_by))])]),t.showProducts?a("div",[a("vs-divider",{attrs:{position:"left-center"}},[a("span",{},[t._v("Sales")])]),a("vs-list",{staticClass:"pt-0"},[t._l(t.activeSales.products,(function(e){return e.sold.length?a("div",[a("vs-list-header",{staticStyle:{"font-size":".85rem"},attrs:{title:t._f("capitalize")(e.vendor),color:"dark"}}),t._l(e.sold,(function(e){return a("div",[a("vs-list-item",{attrs:{"icon-pack":"feather",icon:"icon-check",subtitle:t.returnSubtitle(e),title:t._f("capitalize")(e.name)}})],1)}))],2):t._e()})),a("div",{staticClass:"mt-4 mb-5 ml-10"},t._l(t.activeSales.products,(function(e){return e.sold.length?a("div",{staticClass:"flex justify-end mb-2"},[a("h6",[t._v(t._s(t._f("capitalize")(e.vendor))+" : "+t._s(t._f("currency")(t.getVendorTotal(e.sold)))+" ")])]):t._e()})),0)],2)],1):t._e()]),a("div",{staticClass:"flex vx-col w-full"},[t.showProducts?t._e():a("vs-button",{staticClass:"mr-2 w-full",attrs:{color:"primary"},on:{click:function(e){t.showProducts=!t.showProducts}}},[t._v("\n        Show Products\n      ")]),t.showProducts?a("vs-button",{staticClass:"mr-2 w-full",attrs:{color:"danger",type:"border"},on:{click:function(e){t.showProducts=!t.showProducts}}},[t._v("\n        Hide Details\n      ")]):t._e()],1)])])},G=[],V={name:"BarSaleDetails",props:{activeSales:{required:!0}},data:function(){return{showProducts:!1,showBadProducts:!1}},methods:{returnSubtitle:function(t){return"".concat(t.sold," items(s) cost ‎₦").concat(t.sold*t.selling_price)},returnSubtitleForBadProducts:function(t){return"".concat(t.product," - ").concat(t.bad," faulty item cost ‎₦").concat(t.price*t.bad," (").concat(t.price,"/item)")},getVendorTotal:function(t){var e=t.map((function(t){return t.selling_price*t.sold}));return e.reduce((function(t,e){return t+e}))},goToSaleTable:function(){k["a"].$emit("goToSaleTable")}},created:function(){k["a"].$emit("showDatePicker",!1)},beforeDestroy:function(){k["a"].$emit("showDatePicker",!0)}},J=V,U=(a("c042"),Object(f["a"])(J,H,G,!1,null,"8bd76182",null)),K=U.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vs-con-loading__container",attrs:{id:"table-loader"}},[a("div",{staticClass:"data-list-container ",attrs:{id:"data-list-list-view "}},[a("vx-card",[a("div",{staticClass:"vx-row flex justify-between mb-base"},[a("div",{staticClass:"vx-col"},[a("h3",{staticClass:"mb-2"},[t._v("Bar Sales")]),t.records.length?a("p",{staticClass:"mb-1"},[t._v("Sales Total : "),a("span",{staticClass:"money"},[t._v(t._s(t._f("currency")(t.getSalesTotal(t.records))))])]):t._e(),t.records.length?a("p",{staticClass:"mb-1"},[t._v("Cash Remit Total : "),a("span",{staticClass:"money"},[t._v(t._s(t._f("currency")(t.getCashTotal(t.records))))])]):t._e(),t.records.length?a("p",{staticClass:"mb-1"},[t._v("Credit Remit Total : "),a("span",{staticClass:"money"},[t._v(t._s(t._f("currency")(t.getCreditTotal(t.records))))])]):t._e()]),a("div",{staticClass:"vx-col"},[t.records.length?a("p",{staticClass:"text-gray"},[t._v("Showing "+t._s(t.records.length)+" result(s) from "),a("span",{staticClass:"text-dark text-bold"},[t._v(t._s(t.date.from))]),t._v("\n            to\n            "),a("span",{staticClass:"text-dark text-bold"},[t._v(t._s(t.date.to))])]):t._e()])]),a("vs-table",{attrs:{stripe:"",hoverFlat:"",noDataText:"No Record Found",data:t.records},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.data;return t._l(s,(function(e,r){return a("vs-tr",{key:r},[a("vs-td",{attrs:{data:s[r]}},[t._v("\n              "+t._s(r+1)+"\n            ")]),a("vs-td",{attrs:{data:s[r].date}},[t._v("\n              "+t._s(t._f("moment")(s[r].date,"dddd, Do  MMMM YYYY"))+"\n            ")]),a("vs-td",{attrs:{data:s[r].total}},[a("div",{staticClass:"money text-bold"},[t._v(t._s(t._f("currency")(s[r].total)))])]),a("vs-td",{attrs:{data:s[r].paid}},[a("div",{staticClass:"money"},[t._v(t._s(t._f("currency")(s[r].remit_cash)))])]),a("vs-td",{attrs:{data:s[r].expense}},[a("div",{staticClass:"money"},[t._v(t._s(t._f("currency")(s[r].remit_credit)))])]),a("vs-td",{attrs:{data:s[r].debts}},[s[r].debts?a("p",{staticClass:"text-danger  text-center text-sm"},[t._v("\n                Yes\n              ")]):a("p",{staticClass:"text-success text-center text-sm"},[t._v("\n                No\n              ")])]),a("vs-td",{attrs:{data:s[r].created_on}},[t.records.length?a("p",{staticClass:"text-sm text-center"},[t._v("\n                "+t._s(s[r].bad_products.length)+"\n              ")]):t._e()]),a("vs-td",[a("div",{staticClass:"flex"},[a("vx-tooltip",{attrs:{text:"See Details",position:"top"}},[a("vs-button",{staticClass:"mr-2",attrs:{type:"border","icon-pack":"feather",icon:"icon-eye",color:"primary"},on:{click:function(a){return t.viewDetails(e)}}})],1)],1)])],1)}))}}])},[a("template",{slot:"thead"},[a("vs-th",[t._v("#")]),a("vs-th",{attrs:{"sort-key":"date"}},[t._v("Date")]),a("vs-th",{attrs:{"sort-key":"paid"}},[t._v("Sales Total")]),a("vs-th",{attrs:{"sort-key":""}},[t._v("Cash Remit")]),a("vs-th",{attrs:{"sort-key":"expense"}},[t._v("Credit Remit")]),a("vs-th",{attrs:{"sort-key":"debts"}},[t._v("Debts")]),a("vs-th",{attrs:{"sort-key":"created_by"}},[t._v("Bad Products")]),a("vs-th",[t._v("Action")])],1)],2)],1)],1)])},W=[],X={name:"BarSalesTable",data:function(){return{}},props:{records:{required:!0},date:{required:!0}},methods:{listener:function(){var t=this;k["a"].$on("showLoading",(function(){return t.showLoading()}))},viewDetails:function(t){k["a"].$emit("goToSaleDetails",t)},showLoading:function(){this.$vs.loading({container:"#table-loader",type:"sound",scale:2})},getSalesTotal:function(t){var e=t.map((function(t){return parseInt(t.total)}));return e.reduce((function(t,e){return t+e}),0)},getCashTotal:function(t){var e=t.map((function(t){return parseInt(t.remit_cash)}));return e.reduce((function(t,e){return t+e}),0)},getCreditTotal:function(t){var e=t.map((function(t){return parseInt(t.remit_credit)}));return e.reduce((function(t,e){return t+e}),0)}},created:function(){this.listener()},watch:{records:function(){this.$vs.loading.close("#table-loader > .con-vs-loading")}}},Z=X,tt=Object(f["a"])(Z,Q,W,!1,null,"7260bd9b",null),et=tt.exports,at={name:"BarSaleIndex",data:function(){return{activeComponent:"BarSaleTable",activeSales:""}},props:{records:{required:!0},date:{required:!0}},components:{BarSaleTable:et,BarSaleDetails:K},mounted:function(){k["a"].$emit("showLoading"),this.listener()},methods:{listener:function(){var t=this;k["a"].$on("goToSaleDetails",(function(e){t.activeSales=e,t.activeComponent="BarSaleDetails"})),k["a"].$on("goToSaleTable",(function(){return t.activeComponent="BarSaleTable"}))}}},st=at,rt=Object(f["a"])(st,N,z,!1,null,"3c64347d",null),nt=rt.exports,ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a(t.activeComponent,{tag:"component",attrs:{records:t.records,date:t.date,activeDebt:t.activeDebt}})],1)},it=[],ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vs-con-loading__container",attrs:{id:"table-loader"}},[a("div",{staticClass:"data-list-container ",attrs:{id:"data-list-list-view "}},[a("vx-card",[a("div",{staticClass:"vx-row flex justify-between mb-base"},[a("div",{staticClass:"vx-col"},[a("h3",{staticClass:"mb-2"},[t._v("Bar Debts")]),a("p",{staticClass:"mb-1"},[t._v("Active: "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.active.length)+" "),a("span",{staticClass:"text-dark text-sm mr-1"},[t._v("holding")]),a("span",{staticClass:"text-danger"},[t._v(t._s(t._f("currency")(t.getDebtTotal(t.active))))])])]),a("p",{staticClass:"mb-1"},[t._v("Cleared: "),a("span",{staticClass:"text-success"},[t._v(t._s(t.cleared.length)+" "),a("span",{staticClass:"text-dark text-sm mr-1"},[t._v("paid")]),a("span",{staticClass:"money"},[t._v(t._s(t._f("currency")(t.getDebtTotal(t.cleared))))])])])]),a("div",{staticClass:"vx-col"},[a("p",{staticClass:"text-gray"},[t._v("Showing "+t._s(t.records.length)+" result(s) from "),a("span",{staticClass:"text-dark text-bold"},[t._v(t._s(t.date.from))]),t._v("\n            to\n            "),a("span",{staticClass:"text-dark text-bold"},[t._v(t._s(t.date.to))])])])]),a("vs-table",{attrs:{stripe:"",hoverFlat:"",noDataText:"No Debts",data:t.records},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.data;return t._l(s,(function(e,r){return a("vs-tr",{key:r},[a("vs-td",{attrs:{data:s[r]}},[t._v("\n              "+t._s(r+1)+"\n            ")]),a("vs-td",{attrs:{data:s[r].date}},[t._v("\n              "+t._s(s[r].name)+"\n            ")]),a("vs-td",{attrs:{data:s[r].total}},[a("div",[t._v(t._s(s[r].surety))])]),a("vs-td",{attrs:{data:s[r].paid}},[a("div",{class:t.status(e)},[t._v(t._s(t._f("currency")(t.totalAmount(e))))])]),a("vs-td",{attrs:{data:s[r].status}},[s[r].status?a("p",{staticClass:"text-danger  text-center text-sm"},[t._v("\n                Unpaid\n              ")]):a("p",{staticClass:"text-success text-center text-sm"},[t._v("\n                Paid\n              ")])]),a("vs-td",{attrs:{data:s[r].created_on}},[t._v("\n              "+t._s(t._f("moment")(s[r].date,"dddd, Do MMMM YYYY"))+"\n            ")]),a("vs-td",[a("div",{staticClass:"flex"},[a("vx-tooltip",{attrs:{text:"See Details",position:"top"}},[a("vs-button",{staticClass:"mr-2",attrs:{type:"border","icon-pack":"feather",icon:"icon-eye",color:"primary"},on:{click:function(a){return t.viewDetails(e)}}})],1)],1)])],1)}))}}])},[a("template",{slot:"thead"},[a("vs-th",[t._v("#")]),a("vs-th",{attrs:{"sort-key":"date"}},[t._v("Debtor Name")]),a("vs-th",{attrs:{"sort-key":"paid"}},[t._v("Surety Name")]),a("vs-th",{attrs:{"sort-key":""}},[t._v("Amount")]),a("vs-th",{attrs:{"sort-key":"status"}},[t._v("Status")]),a("vs-th",{attrs:{"sort-key":"expense"}},[t._v("Date")]),a("vs-th",[t._v("Action")])],1)],2)],1)],1)])},lt=[],dt=a("a745"),ut=a.n(dt);function vt(t){if(ut()(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}var ft=a("774e"),pt=a.n(ft),mt=a("c8bb"),ht=a.n(mt);function _t(t){if(ht()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return pt()(t)}function bt(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function xt(t){return vt(t)||_t(t)||bt()}var Ct={name:"DebtsTable",data:function(){return{active:[],cleared:[],activeTotal:0,clearedTotal:0}},props:{records:{required:!0},date:{required:!0}},created:function(){this.listener(),this.getActiveDebt(this.records),this.getClearedDebt(this.records)},watch:{records:function(){this.getActiveDebt(this.records),this.getClearedDebt(this.records),this.$vs.loading.close("#table-loader > .con-vs-loading")}},methods:{viewDetails:function(t){k["a"].$emit("goToDebtDetails",t)},status:function(t){return t.status?"text-danger":"text-success"},totalAmount:function(t){var e=t.products.map((function(t){return t.price*t.holding}));return e.reduce((function(t,e){return t+e}),0)},showLoading:function(){this.$vs.loading({container:"#table-loader",type:"sound",scale:2})},listener:function(){var t=this;k["a"].$on("showLoading",(function(){return t.showLoading()}))},getActiveDebt:function(t){var e=this;this.active=[],t.map((function(t){t.status&&e.active.push(t)}))},getClearedDebt:function(t){var e=this;this.cleared=[],t.map((function(t){t.status||e.cleared.push(t)}))},getDebtTotal:function(t){var e=[];return t.map((function(t){return t.products})).map((function(t){e.push.apply(e,xt(t))})),e.map((function(t){return parseInt(t.holding)*parseInt(t.price)})).reduce((function(t,e){return t+e}),0)}}},gt=Ct,wt=Object(f["a"])(gt,ct,lt,!1,null,"19cbc220",null),yt=wt.exports,Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vx-card",[a("div",{staticClass:"flex justify-between items-center"},[a("div",{},[a("h4",[t._v("Record For "+t._s(t._f("moment")(t.activeDebt.date,"dddd, MMMM Do YYYY")))])]),a("vx-tooltip",{attrs:{text:"Go Back",position:"top"}},[a("vs-button",{staticClass:"  border",attrs:{"icon-pack":"feather",icon:"icon-corner-up-left",color:"primary",type:"border"},on:{click:function(e){return t.goToDebtTable()}}},[t._v("\n          Back\n        ")])],1)],1),a("div",{staticClass:"vx-row pt-4",attrs:{id:"table-loader"}},[a("div",{staticClass:"vx-col w-full"},[a("div",[a("p",{staticClass:"mb-4"},[t._v("Customer : "+t._s(t.activeDebt.name)+" ")]),a("p",{staticClass:"mb-4"},[t._v("Surety : "+t._s(t.activeDebt.surety)+" ")]),a("p",{staticClass:"mb-4"},[t._v("Status : "),t.activeDebt.status?a("span",{staticClass:"text-danger  text-center text-md"},[t._v("\n          Unpaid\n        ")]):a("span",{staticClass:"text-success text-center text-md"},[t._v("Paid ")])]),t.activeDebt.date_paid?a("p",{staticClass:"mb-4"},[t._v("Paid On : "+t._s(t._f("moment")(t.activeDebt.date_paid,"MMMM Do YYYY, h:mm:ss a"))+" ")]):t._e(),a("p",{staticClass:"mb-4"},[t._v("Amount : "),a("span",{staticClass:"text-danger"},[t._v(t._s(t._f("currency")(t.getDebtTotal())))])]),t.showDetails?a("div",{staticClass:"mb-4 pr-2"},[a("vs-divider",{attrs:{position:"left-center"}},[t._v("Details")]),a("vx-card",{attrs:{"card-border":""}},[a("div",{attrs:{slot:"no-body"},slot:"no-body"},t._l(t.activeDebt.products,(function(e){return a("vs-list",{staticClass:"pt-0"},[a("vs-list-item",{attrs:{subtitle:t.returnSubtitleForProducts(e)}})],1)})),1)])],1):t._e()])]),a("div",{staticClass:"flex vx-col w-full"},[t.showDetails?t._e():a("vs-button",{staticClass:"mr-2 w-full",attrs:{color:"primary"},on:{click:function(e){t.showDetails=!t.showDetails}}},[t._v("\n          Show More Details\n        ")]),t.showDetails?a("vs-button",{staticClass:"mr-2 w-full",attrs:{color:"danger",type:"border"},on:{click:function(e){t.showDetails=!t.showDetails}}},[t._v("\n          Hide Details\n        ")]):t._e()],1)])])},Pt=[],kt={name:"DebtsDetails",props:{activeDebt:{required:!0}},data:function(){return{showDetails:!1}},methods:{returnSubtitleForProducts:function(t){return"".concat(t.product," - Holding ").concat(t.holding," item(s) cost ‎₦").concat(t.price*t.holding," (").concat(t.price,"/item)")},getDebtTotal:function(){var t=this.activeDebt.products.map((function(t){return t.price*t.holding}));return t.reduce((function(t,e){return t+e}))},goToDebtTable:function(){k["a"].$emit("goToDebtTable")}},created:function(){k["a"].$emit("showDatePicker",!1)},beforeDestroy:function(){k["a"].$emit("showDatePicker",!0)}},Tt=kt,St=Object(f["a"])(Tt,Dt,Pt,!1,null,"58a12f11",null),Bt=St.exports,$t={name:"BarDebtIndex",props:{records:{required:!0},date:{required:!0}},components:{BarDebtTable:yt,BarDebtDetails:Bt},data:function(){return{activeComponent:"BarDebtTable",activeDebt:""}},mounted:function(){k["a"].$emit("showLoading"),this.listener()},methods:{listener:function(){var t=this;k["a"].$on("goToDebtDetails",(function(e){t.activeDebt=e,t.activeComponent="BarDebtDetails"})),k["a"].$on("goToDebtTable",(function(){return t.activeComponent="BarDebtTable"}))}}},Mt=$t,Yt=Object(f["a"])(Mt,ot,it,!1,null,"2c006c18",null),At=Yt.exports,jt={name:"Report",components:{datePicker:m,blank:g,barPurchase:L,barSale:nt,barDebt:At},data:function(){return{activeComponent:"blank",records:[],date:{},showDatePicker:!0,option:[{id:1,slug:"Bar~ Debts",outlet:"bar",db:"debts"},{id:2,slug:"Bar~ Purchases",outlet:"bar",db:"purchases"},{id:3,slug:"Bar~ Sales",outlet:"bar",db:"sales"}]}},methods:{search:function(t){this.date={to:t.to,from:t.from},1===t.selected.id?this.switchedToBarDebt(t):2===t.selected.id?this.switchedToBarPurchase(t):3===t.selected.id&&this.switchedToBarSale(t)},switchedToBarDebt:function(t){this.activeComponent="barDebt",this.getRecord(t)},switchedToBarSale:function(t){this.activeComponent="barSale",this.getRecord(t)},switchedToBarPurchase:function(t){this.activeComponent="barPurchase",this.getRecord(t)},getRecord:function(t){var e=this;Object(T["b"])().callFunction("GetRecord",[t]).then((function(t){e.records=t})).catch((function(t){e.notify({text:t.message,title:"Error",color:"danger"})}))},listener:function(){var t=this;k["a"].$on("showDatePicker",(function(e){return t.showDatePicker=e}))}},mounted:function(){this.listener()}},Ft=jt,Ot=(a("b698"),Object(f["a"])(Ft,s,r,!1,null,"ce5cba82",null));e["default"]=Ot.exports},9003:function(t,e,a){var s=a("6b4c");t.exports=Array.isArray||function(t){return"Array"==s(t)}},"95d5":function(t,e,a){var s=a("40c3"),r=a("5168")("iterator"),n=a("481b");t.exports=a("584a").isIterable=function(t){var e=Object(t);return void 0!==e[r]||"@@iterator"in e||n.hasOwnProperty(s(e))}},a710:function(t,e,a){},a745:function(t,e,a){t.exports=a("f410")},b698:function(t,e,a){"use strict";var s=a("e3c4"),r=a.n(s);r.a},c042:function(t,e,a){"use strict";var s=a("a710"),r=a.n(s);r.a},c395:function(t,e,a){"use strict";var s=a("7a5d"),r=a.n(s);r.a},c8bb:function(t,e,a){t.exports=a("54a1")},d2d5:function(t,e,a){a("1654"),a("549b"),t.exports=a("584a").Array.from},e3c4:function(t,e,a){},f410:function(t,e,a){a("1af6"),t.exports=a("584a").Array.isArray}}]);
//# sourceMappingURL=chunk-9b4c78c4.2b11c86b.js.map