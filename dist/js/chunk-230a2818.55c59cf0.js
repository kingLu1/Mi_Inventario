(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-230a2818"],{2893:function(t,e,a){},"2fdb":function(t,e,a){"use strict";var s=a("5ca1"),r=a("d2c8"),i="includes";s(s.P+s.F*a("5147")(i),"String",{includes:function(t){return!!~r(this,t,i).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"341e":function(t,e,a){"use strict";var s=a("e9b0"),r=a.n(s);r.a},"34da":function(t,e,a){},5147:function(t,e,a){var s=a("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[s]=!1,!"/./"[t](e)}catch(r){}}return!0}},"669e":function(t,e,a){"use strict";var s=a("2893"),r=a.n(s);r.a},7514:function(t,e,a){"use strict";var s=a("5ca1"),r=a("0a49")(5),i="find",o=!0;i in[]&&Array(1)[i]((function(){o=!1})),s(s.P+s.F*o,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")(i)},c4d9:function(t,e,a){"use strict";var s=a("34da"),r=a.n(s);r.a},d2c8:function(t,e,a){var s=a("aae3"),r=a("be13");t.exports=function(t,e,a){if(s(e))throw TypeError("String#"+a+" doesn't accept regex!");return String(r(t))}},e9b0:function(t,e,a){},feea:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a(t.activeComponent,{tag:"component",attrs:{activeProduct:t.activeProduct,search:t.search,products:t.keyword?t.newProducts:t.products},on:{backToTable:t.backToTable,viewProductDetails:t.viewProductDetails,openAddMultiplePage:t.openAddMultiplePage}})],1)},r=[],i=(a("7f7f"),a("6762"),a("2fdb"),a("386d"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vs-row",{attrs:{"vs-w":"12"}},[a("vs-row",[a("vs-col",{attrs:{"vs-lg":"4","vs-sm":"6","vs-xs":"12"}},[a("add",{staticClass:" sidebarX",attrs:{isSidebarActive:t.showAddProductComponent,categories:t.categories,vendors:t.vendors},on:{closeSidebar:function(e){t.showAddProductComponent=!1}}})],1)],1),a("vs-row",{staticClass:"mb-4",attrs:{"vs-w":"12"}},[a("vs-col",{staticClass:"p-0 flex items-end",attrs:{"vs-lg":"3","vs-sm":"3","vs-xs":"0"}},[a("p",{staticClass:" lg:inline-flex  hidden font-semibold"},[t._v("Filters")])]),a("vs-col",{staticClass:"flex justify-end p-0",attrs:{"vs-lg":"9","vs-sm":"9","vs-xs":"12"}},[a("vs-button",{staticClass:"mr-2",attrs:{color:"primary",type:"border","icon-pack":"feather",icon:"icon-plus"},on:{click:function(e){t.showAddProductComponent=!0}}},[t._v("Add\n      ")]),a("vs-button",{attrs:{color:"primary",type:"border","icon-pack":"feather",icon:"icon-folder-plus"},on:{click:t.goToAddMultiplePage}},[t._v("Add\n        Multiple\n      ")])],1)],1),a("vs-col",{staticClass:"p-0",attrs:{"vs-lg":"3","vs-sm":"3","vs-xs":"0"}},[a("vx-card",[a("h6",{staticClass:"font-bold mb-4"},[t._v("Sort by")]),a("ul",{staticClass:"centerx mb-2 pl-4"},[a("li",{staticClass:"px-2 py-2"},[a("vs-radio",{attrs:{"vs-value":"name"},model:{value:t.search.searchBy,callback:function(e){t.$set(t.search,"searchBy",e)},expression:"search.searchBy"}},[t._v("Name")])],1),a("li",{staticClass:"px-2"},[a("vs-radio",{attrs:{"vs-value":"price"},model:{value:t.search.searchBy,callback:function(e){t.$set(t.search,"searchBy",e)},expression:"search.searchBy"}},[t._v("Price")])],1)]),a("h6",{staticClass:"font-bold mb-2"},[t._v("Order")]),a("ul",{staticClass:"centerx mb-2 pl-4"},[a("li",{staticClass:"px-2 py-2"},[a("vs-radio",{attrs:{"vs-value":1},model:{value:t.search.order,callback:function(e){t.$set(t.search,"order",e)},expression:"search.order"}},[t._v("Ascending")])],1),a("li",{staticClass:"px-2"},[a("vs-radio",{attrs:{"vs-value":-1},model:{value:t.search.order,callback:function(e){t.$set(t.search,"order",e)},expression:"search.order"}},[t._v("Descending")])],1)]),a("h6",{staticClass:"font-bold mb-2"},[t._v("Category")]),a("ul",{staticClass:"centerx mb-2 pl-4"},[a("li",{staticClass:"px-2 py-2"},[a("vs-radio",{attrs:{"vs-value":"all"},model:{value:t.search.category,callback:function(e){t.$set(t.search,"category",e)},expression:"search.category"}},[t._v("All")])],1),t._l(t.categories,(function(e){return a("li",{staticClass:"px-2 py-2"},[a("vs-radio",{attrs:{"vs-value":e.name},model:{value:t.search.category,callback:function(e){t.$set(t.search,"category",e)},expression:"search.category"}},[t._v(t._s(t._f("capitalize")(e.name)))])],1)}))],2),a("h6",{staticClass:"font-bold mb-2"},[t._v("Vendor")]),a("ul",{staticClass:"centerx mb-2 pl-4"},[a("li",{staticClass:"px-2 py-2"},[a("vs-radio",{attrs:{"vs-value":"allVendor"},model:{value:t.search.vendor,callback:function(e){t.$set(t.search,"vendor",e)},expression:"search.vendor"}},[t._v("All")])],1),t._l(t.vendors,(function(e){return a("li",{staticClass:"px-2 py-2"},[a("vs-radio",{attrs:{"vs-value":e.name},model:{value:t.search.vendor,callback:function(e){t.$set(t.search,"vendor",e)},expression:"search.vendor"}},[t._v(t._s(t._f("capitalize")(e.name)))])],1)}))],2),a("vs-button",{staticClass:"w-full",on:{click:function(e){return t.clearFilters()}}},[t._v("CLEAR ALL FILTERS")])],1)],1),a("vs-col",{staticClass:"p-0 pl-5",attrs:{"vs-lg":"9","vs-sm":"9","vs-xs":"12"}},[a("div",[a("div",{staticClass:"relative mb-5"},[a("vs-input",{staticClass:"w-full vs-input-shadow-drop vs-input-no-border d-theme-input-dark-bg",attrs:{placeholder:"Search by Name",size:"large"},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchDb()},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.clearSearch(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?null:t.searchDb(e)}],input:t.showIcon,change:function(e){return t.searchDb()},keypress:t.searchDb},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isTyping,expression:"!isTyping"}],staticClass:"absolute ",staticStyle:{top:"15px",right:"10px"},attrs:{slot:"submit-icon"},slot:"submit-icon"},[a("feather-icon",{attrs:{icon:"SearchIcon",svgClasses:"h-6 w-6"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isTyping,expression:"isTyping"}],staticClass:"absolute",staticStyle:{top:"15px",right:"10px"},attrs:{slot:"reset-icon"},on:{click:function(e){return e.preventDefault(),t.clearSearch(e)}},slot:"reset-icon"},[a("feather-icon",{attrs:{icon:"XIcon",svgClasses:"h-6 w-6 cursor-pointer"}})],1)],1)]),a("VuePerfectScrollbar",{staticClass:"scroll-area pr-2",attrs:{settings:t.settings}},[t.products.length?a("div",{staticClass:"items-grid-view vx-row match-height"},t._l(t.products,(function(e){return a("div",{staticClass:"vx-col w-full sm:w-1/2 md:1/4 lg:w-1/4 xl:1/5 "},[a("vx-card",{staticClass:"grid-view-item mb-base overflow-hidden"},[a("template",{slot:"no-body"},[a("div",{staticClass:"item-details px-4"},[a("div",{staticClass:"my-4"},[a("h6",{staticClass:"truncate font-semibold mb-1"},[t._v("\n                    "+t._s(t._f("capitalize")(e.name))+"\n                  ")]),a("p",{staticClass:"item-description truncate text-sm"},[t._v("\n                    "+t._s(t._f("capitalize")(e.vendor))+"\n                  ")])]),a("div",{staticClass:"flex justify-between items-center"},[a("div",{staticClass:"bg-primary flex text-white py-1 px-2 rounded",class:t.getHealth(e)},[a("feather-icon",{attrs:{icon:"BarChart2Icon",svgClasses:"h-4 w-4"}})],1),a("h6",{staticClass:"font-bold"},[t._v("\n                    "+t._s(t._f("currency")(e.selling_price))+"\n                  ")])])]),a("div",{staticClass:"flex mt-3"},[a("div",{staticClass:"item-view-secondary-action-btn p-3 flex flex-grow items-center justify-center text-primary cursor-pointer actions",on:{click:function(a){return t.viewProduct(e)}}},[a("feather-icon",{attrs:{icon:"EyeIcon",svgClasses:"h-4 w-4"}}),a("span",{staticClass:"text-sm font-semibold ml-2"},[t._v("VIEW")])],1)])])],2)],1)})),0):t._e(),t.products.length?t._e():a("div",{staticClass:" vs-con-loading__container loading_height bg-white flex justify-center items-center",attrs:{id:"div-with-loading"}},[a("div",{staticClass:"flex items-center"},[a("feather-icon",{attrs:{icon:"MehIcon",svgClasses:"h-8 w-8"}}),a("p",{staticClass:"font-semibold ml-2"},[t._v("No Product Found")])],1)])])],1)],1)}),o=[],c=a("f7ea"),n=a("9d63"),l=a.n(n),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vs-sidebar",{staticClass:"items-no-padding add-new-data-sidebar",attrs:{"click-not-close":"","position-right":"",parent:"body",color:"primary",spacer:""},model:{value:t.isSidebarActiveLocal,callback:function(e){t.isSidebarActiveLocal=e},expression:"isSidebarActiveLocal"}},[a("div",{staticClass:"mt-6 flex items-center justify-between px-6"},[a("h4",[t._v("Add Product")]),a("feather-icon",{staticClass:"cursor-pointer",attrs:{icon:"XIcon"},on:{click:function(e){e.stopPropagation(),t.isSidebarActiveLocal=!1}}})],1),a("vs-divider",{staticClass:"mb-0"}),a("VuePerfectScrollbar",{staticClass:"scroll-area--data-list-add-new pt-4 pb-6",attrs:{settings:t.settings}},[a("div",{staticClass:"p-6"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"mt-5 w-full",attrs:{label:"Name",name:"Product Name",placeholder:"Product Name","data-vv-validate-on":"blur"},model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("Product Name"),expression:"errors.has('Product Name')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("Product Name")))]),a("vs-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"select-large mt-5 w-full",attrs:{name:"Product Category",label:"Category"},model:{value:t.model.product.category,callback:function(e){t.$set(t.model.product,"category",e)},expression:"model.product.category"}},t._l(t.categories,(function(e){return a("vs-select-item",{attrs:{value:e.name,text:t._f("capitalize")(e.name)}})})),1),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("Product Category"),expression:"errors.has('Product Category')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("Product Category")))]),a("vs-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"select-large mt-5 w-full",attrs:{name:"Product Vendor",label:"Vendor"},model:{value:t.model.product.vendor,callback:function(e){t.$set(t.model.product,"vendor",e)},expression:"model.product.vendor"}},t._l(t.vendors,(function(e){return a("vs-select-item",{attrs:{value:e.name,text:t._f("capitalize")(e.name)}})})),1),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("Product Vendor"),expression:"errors.has('Product Vendor')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("Product Vendor")))]),a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric",expression:"'required|numeric'"}],staticClass:"mt-5 w-full",attrs:{label:"Selling Price(₦)",name:"Product Price",placeholder:"Selling Price","data-vv-validate-on":"blur"},model:{value:t.model.product.selling_price,callback:function(e){t.$set(t.model.product,"selling_price",e)},expression:"model.product.selling_price"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("Product Price"),expression:"errors.has('Product Price')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("Product Price")))]),a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric",expression:"'required|numeric'"}],staticClass:"mt-5 w-full",attrs:{label:"Crate Price(₦)",name:"Product Crate Price",placeholder:"Crate Price","data-vv-validate-on":"blur"},model:{value:t.model.product.crate_price,callback:function(e){t.$set(t.model.product,"crate_price",e)},expression:"model.product.crate_price"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("Product Crate Price"),expression:"errors.has('Product Crate Price')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("Product Crate Price")))]),a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric",expression:"'required|numeric'"}],staticClass:"mt-5 w-full",attrs:{label:"Quantity per Crate",name:"Crate Quantity","data-vv-validate-on":"blur",placeholder:"Quantity"},model:{value:t.model.product.qty_per_crate,callback:function(e){t.$set(t.model.product,"qty_per_crate",e)},expression:"model.product.qty_per_crate"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("Crate Quantity"),expression:"errors.has('Crate Quantity')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("Crate Quantity")))]),a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric",expression:"'required|numeric'"}],staticClass:"mt-5 w-full",attrs:{label:"Optimum Quantity In Stock",name:"Optimum Quantity",placeholder:"Crates","data-vv-validate-on":"blur"},model:{value:t.model.product.optimum_qty,callback:function(e){t.$set(t.model.product,"optimum_qty",e)},expression:"model.product.optimum_qty"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("Optimum Quantity"),expression:"errors.has('Optimum Quantity')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("Optimum Quantity")))]),a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric",expression:"'required|numeric'"}],staticClass:"mt-5 w-full",attrs:{label:"Worst Quantity In Stock",name:"Worst Quantity",placeholder:"Crates","data-vv-validate-on":"blur"},model:{value:t.model.product.worst_qty,callback:function(e){t.$set(t.model.product,"worst_qty",e)},expression:"model.product.worst_qty"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("Worst Quantity"),expression:"errors.has('Worst Quantity')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("Worst Quantity")))])],1)]),a("div",{staticClass:"flex flex-wrap items-center justify-center p-6",attrs:{slot:"footer"},slot:"footer"},[a("vs-button",{ref:"loadableButton",staticClass:"mr-6 vs-con-loading__container",attrs:{id:"button-with-loading"},on:{click:function(e){return t.addProduct()}}},[t._v("Add\n    ")]),a("vs-button",{attrs:{type:"border",color:"danger"},on:{click:function(e){e.stopPropagation(),t.isSidebarActiveLocal=!1}}},[t._v("Cancel")])],1)],1)},u=[],v=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),m=a("659a"),p=a("2f62"),f=a("0c12");function h(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function _(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?h(a,!0).forEach((function(e){Object(v["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):h(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var b={name:"ProductAdd",props:{isSidebarActive:{type:Boolean,required:!0},vendors:{required:!0},categories:{required:!0}},components:{VuePerfectScrollbar:l.a},data:function(){return{backgroundLoading:"#7367F0",colorLoading:"white",settings:{maxScrollbarLength:60,wheelSpeed:.6},model:{name:"",product:{created_on:Date(),created_by:"",qty_in_stock:0}}}},methods:{addProduct:function(){var t=this;this.$validator.validateAll().then((function(e){if(e){t.$vs.loading({background:t.backgroundLoading,color:t.colorLoading,container:"#button-with-loading",scale:.45});var a={name:t.model.name.toLowerCase()},s=[Object.assign(a,t.model.product)];Object(m["b"])().callFunction("ProductCreate",s).then((function(e){t.$vs.loading.close("#button-with-loading > .con-vs-loading"),f["a"].$emit("newProduct"),t.notify({text:"Successfully Added New Product!",title:"",color:"success"}),t.model.name="",t.model.product={created_on:Date(),created_by:t.AppActiveUser.first_name+" "+t.AppActiveUser.last_name,qty_in_stock:0},t.isSidebarActiveLocal=!1})).catch((function(e){t.$vs.loading.close("#button-with-loading > .con-vs-loading"),t.notify({text:e.message,title:"Error",color:"danger"})}))}else t.$vs.loading.close("#button-with-loading > .con-vs-loading")}))}},computed:_({isSidebarActiveLocal:{get:function(){return this.isSidebarActive},set:function(t){t||this.$emit("closeSidebar")}}},Object(p["c"])(["AppActiveUser"])),watch:{},mounted:function(){this.model.product.created_by=this.AppActiveUser.first_name+" "+this.AppActiveUser.last_name}},g=b,y=(a("669e"),a("2877")),C=Object(y["a"])(g,d,u,!1,null,null,null),w=C.exports,x={name:"Products",props:{search:{required:!0},products:{required:!0}},components:{VuePerfectScrollbar:l.a,add:w},data:function(){return{keyword:"",isTyping:!1,notFound:!0,settings:{maxScrollbarLength:30,wheelSpeed:.6},showAddProductComponent:!1,vendors:[],categories:[]}},methods:{getHealth:function(t){var e=t.qty_in_stock/t.qty_per_crate;return 0===e?"bg-dark":e<=t.worst_qty?"bg-danger":e>=t.optimum_qty?"bg-success":e>t.worst_qty?"bg-warning":void 0},searchDb:function(){f["a"].$emit("searchDb",this.keyword)},showIcon:function(){this.isTyping=""!==this.keyword},clearSearch:function(){this.keyword="",this.showIcon(),this.searchDb()},goToAddMultiplePage:function(){this.$emit("openAddMultiplePage")},viewProduct:function(t){this.$emit("viewProductDetails",t)},getVendors:function(){var t=this;this.axios.get(c["b"]).then((function(e){t.vendors=e.data})).catch((function(e){t.notify({title:"Error",text:e.message,color:"danger"})}))},getCategories:function(){var t=this;this.axios.get(c["a"]).then((function(e){t.categories=e.data})).catch((function(e){t.notify({title:"Error",text:e.message,color:"danger"})}))},listener:function(){var t=this;f["a"].$on("loading",(function(e){return t.loading(e)})),f["a"].$on("found",(function(e){return t.notFound=e}))},loading:function(t){t?this.$vs.loading({container:"#div-with-loading",type:"sound",scale:1}):this.$vs.loading.close("#div-with-loading > .con-vs-loading")},clearFilters:function(){f["a"].$emit("clearFilters")}},created:function(){this.listener()},mounted:function(){this.getCategories(),this.getVendors()}},P=x,k=(a("c4d9"),Object(y["a"])(P,i,o,!1,null,"584882c6",null)),q=k.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vs-con-loading__container",attrs:{id:"table-loader"}},[a("vx-card",[a("vs-row",[a("vs-col",[a("div",{staticClass:"flex justify-end"},[a("vx-tooltip",{attrs:{text:"Go Back",position:"top"}},[a("vs-button",{staticClass:"mr-2",attrs:{"icon-pack":"feather",icon:"icon-corner-up-left",color:"primary",type:"border"},on:{click:t.backToTable}},[t._v("\n              Back\n            ")])],1)],1)])],1),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-full sm: md: lg:offset-2 xl:"},[a("div",[a("div",{staticClass:"flex"},[a("p",{staticClass:"mb-4 flex"},[t._v("Name : "),t.visibility.isEdit?t._e():a("span",{staticClass:"pl-2"},[t._v(t._s(t._f("capitalize")(t.activeProduct.name))+" ")]),t.visibility.isEdit?a("span",[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full -mt-2 ml-2",attrs:{name:"Product Name",placeholder:"Product Name","data-vv-validate-on":"blur"},model:{value:t.activeProduct.name,callback:function(e){t.$set(t.activeProduct,"name",e)},expression:"activeProduct.name"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("Product Name"),expression:"errors.has('Product Name')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("Product Name")))])],1):t._e()])]),a("div",{staticClass:"flex"},[a("p",{staticClass:"mb-4 flex"},[t._v("Category : "),t.visibility.isEdit?t._e():a("span",{staticClass:"pl-2"},[t._v(" "+t._s(t._f("capitalize")(t.activeProduct.category)))]),t.visibility.isEdit?a("span",[a("vs-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"select-large ml-2 -mt-2  w-full",attrs:{name:"Product Category"},model:{value:t.activeProduct.category,callback:function(e){t.$set(t.activeProduct,"category",e)},expression:"activeProduct.category"}},t._l(t.categories,(function(t){return a("vs-select-item",{attrs:{value:t.name,text:t.name}})})),1),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("Product Category"),expression:"errors.has('Product Category')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("Product Category")))])],1):t._e()])]),a("div",{staticClass:"flex"},[a("p",{staticClass:"mb-4 flex"},[t._v("Vendor : "),t.visibility.isEdit?t._e():a("span",{staticClass:"pl-2"},[t._v("   "+t._s(t._f("capitalize")(t.activeProduct.vendor)))]),t.visibility.isEdit?a("span",[a("vs-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"select-large ml-2 -mt-2 w-full",attrs:{name:"Product Vendor"},model:{value:t.activeProduct.vendor,callback:function(e){t.$set(t.activeProduct,"vendor",e)},expression:"activeProduct.vendor"}},t._l(t.vendors,(function(t){return a("vs-select-item",{attrs:{value:t.name,text:t.name}})})),1),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("Product Vendor"),expression:"errors.has('Product Vendor')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("Product Vendor")))])],1):t._e()])]),a("p",{staticClass:"mb-4"},[t._v("Health : "),a("span",{staticClass:" inline text-white py-2 px-4 rounded",class:{"bg-danger":t.healthLow,"bg-success":t.healthHigh,"bg-warning":t.healthMedium,"bg-dark":t.healthZero}},[a("feather-icon",{attrs:{icon:"BarChart2Icon",svgClasses:"h-4 w-4"}})],1)]),a("div",{staticClass:"flex"},[a("p",{staticClass:"mb-4 flex"},[t._v("Selling Price :\n              "),t.visibility.isEdit?t._e():a("span",{staticClass:"money pl-2"},[t._v(t._s(t._f("currency")(t.activeProduct.selling_price)))]),t.visibility.isEdit?a("span",[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric",expression:"'required|numeric'"}],staticClass:"-mt-2 ml-2 w-full",attrs:{name:"Product Price",placeholder:"Selling Price","data-vv-validate-on":"blur"},model:{value:t.activeProduct.selling_price,callback:function(e){t.$set(t.activeProduct,"selling_price",e)},expression:"activeProduct.selling_price"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("Product Price"),expression:"errors.has('Product Price')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("Product Price")))])],1):t._e()])]),a("p",{staticClass:"mb-4"},[t._v("Cost Price : "),a("span",{staticClass:"money"},[t._v(t._s(t._f("currency")(t.activeProduct.crate_price/t.activeProduct.qty_per_crate)))])]),a("span"),a("p",{staticClass:"mb-4"},[t._v("Profit : "),a("span",{staticClass:"money"},[t._v(t._s(t._f("currency")(t.activeProduct.selling_price-t.activeProduct.crate_price/t.activeProduct.qty_per_crate)))])]),a("span"),a("div",{staticClass:"flex"},[a("p",{staticClass:"mb-4 flex"},[t._v("Crate Price :\n              "),t.visibility.isEdit?t._e():a("span",{staticClass:"money pl-2"},[t._v(t._s(t._f("currency")(t.activeProduct.crate_price)))]),t.visibility.isEdit?a("span",[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric",expression:"'required|numeric'"}],staticClass:"-mt-2 ml-2 w-full",attrs:{name:"Product Crate Price",placeholder:"Crate Price","data-vv-validate-on":"blur"},model:{value:t.activeProduct.crate_price,callback:function(e){t.$set(t.activeProduct,"crate_price",e)},expression:"activeProduct.crate_price"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("Product Crate Price"),expression:"errors.has('Product Crate Price')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("Product Crate Price")))])],1):t._e()])]),a("p",{staticClass:"mb-4"},[t._v("In Stock Quantity: "),a("span",{staticClass:"text-primary"},[t._v(t._s(t.activeProduct.qty_in_stock)+" item(s) / "+t._s(parseFloat((t.activeProduct.qty_in_stock/t.activeProduct.qty_per_crate).toFixed(1)))+" crate(s)")])]),a("div",{staticClass:"flex"},[a("p",{staticClass:"mb-4 flex"},[t._v("Quantity Per Crate :\n              "),t.visibility.isEdit?t._e():a("span",{staticClass:"pl-1"},[t._v("  "+t._s(t.activeProduct.qty_per_crate)+" item(s)")]),t.visibility.isEdit?a("span",[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric",expression:"'required|numeric'"}],staticClass:"ml-2 -mt-2 w-full",attrs:{name:"Crate Quantity","data-vv-validate-on":"blur",placeholder:"Quantity"},model:{value:t.activeProduct.qty_per_crate,callback:function(e){t.$set(t.activeProduct,"qty_per_crate",e)},expression:"activeProduct.qty_per_crate"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("Crate Quantity"),expression:"errors.has('Crate Quantity')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("Crate Quantity")))])],1):t._e()])]),a("div",{staticClass:"flex"},[a("p",{staticClass:"mb-4 flex"},[t._v(" Optimum Quantity in Stock : "),t.visibility.isEdit?t._e():a("span",{staticClass:"pl-1"},[t._v(" "+t._s(t.activeProduct.optimum_qty)+" crate(s)")]),t.visibility.isEdit?a("span",[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric",expression:"'required|numeric'"}],staticClass:"-mt-2 ml-2 w-full",attrs:{name:"Optimum Quantity",placeholder:"Crates","data-vv-validate-on":"blur"},model:{value:t.activeProduct.optimum_qty,callback:function(e){t.$set(t.activeProduct,"optimum_qty",e)},expression:"activeProduct.optimum_qty"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("Optimum Quantity"),expression:"errors.has('Optimum Quantity')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("Optimum Quantity")))])],1):t._e()])]),a("div",{staticClass:"flex"},[a("p",{staticClass:"mb-4 flex"},[t._v(" Worst Quantity in Stock : "),t.visibility.isEdit?t._e():a("span",{staticClass:"pl-1"},[t._v(" "+t._s(t.activeProduct.worst_qty)+" crate(s)")]),t.visibility.isEdit?a("span",[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric",expression:"'required|numeric'"}],staticClass:"-mt-2 ml-2 w-full",attrs:{name:"Worst Quantity",placeholder:"Crates","data-vv-validate-on":"blur"},model:{value:t.activeProduct.worst_qty,callback:function(e){t.$set(t.activeProduct,"worst_qty",e)},expression:"activeProduct.worst_qty"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("Worst Quantity"),expression:"errors.has('Worst Quantity')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("Worst Quantity")))])],1):t._e()])]),a("p",{staticClass:"mb-4"},[t._v(" Created By : "+t._s(t.activeProduct.created_by)+" ")]),a("span"),a("p",{staticClass:"mb-4"},[t._v(" Created On : "+t._s(t._f("moment")(t.activeProduct.created_on,"MMMM Do YYYY, h:mm:ss a"))+" ")]),a("span"),a("p",{staticClass:"mb-4"},[t._v(" Last Updated By : "+t._s(t.activeProduct.last_update))]),a("span"),a("p",{staticClass:"mb-4"},[t._v(" Last Updated On : "+t._s(t._f("moment")(t.activeProduct.last_update_on,"MMMM Do YYYY, h:mm:ss a")))]),a("span")]),a("div",{staticClass:"flex"},[t.visibility.isEdit?t._e():a("vs-button",{staticClass:"mr-2 w-full",attrs:{type:"border",color:"warning"},on:{click:t.editProduct}},[t._v("\n            Edit Product\n          ")]),t.visibility.isEdit?a("vs-button",{ref:"loadableButton",staticClass:"mr-2 w-full  vs-con-loading__container",attrs:{color:"success",id:"button-with-loading"},on:{click:t.updateProduct}},[t._v("\n            Update Product\n          ")]):t._e(),t.visibility.isEdit?a("vs-button",{staticClass:"mr-2 w-full",attrs:{color:"warning"},on:{click:t.cancelProductEdit}},[t._v("\n            Cancel\n          ")]):t._e(),a("vs-button",{staticClass:"mr-2 w-full",attrs:{color:"danger"},on:{click:t.openDeleteBox}},[t._v("\n            Delete Product\n          ")])],1)])])],1)],1)},$=[];function N(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function j(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?N(a,!0).forEach((function(e){Object(v["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):N(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var A={name:"ProductDetail",props:{activeProduct:{required:!0}},data:function(){return{backgroundLoadingSuccess:"#28C76F",colorLoading:"white",healthLow:!1,healthHigh:!1,healthMedium:!1,healthZero:!1,visibility:{isEdit:!1,activeEdit:!1},vendors:[],categories:[]}},computed:j({},Object(p["c"])(["AppActiveUser"])),mounted:function(){this.health()},methods:{health:function(){var t=this.activeProduct.qty_in_stock/this.activeProduct.qty_per_crate;0===t?this.healthZero=!0:t<=this.activeProduct.worst_qty?this.healthLow=!0:t>=this.activeProduct.optimum_qty?this.healthHigh=!0:t>this.activeProduct.worst_qty&&(this.healthMedium=!0)},backToTable:function(){this.$emit("backToTable")},openDeleteBox:function(){this.$vs.dialog({type:"confirm",color:"danger",title:"Confirm",text:"Are you sure  you want to delete ".concat(this.activeProduct.name," product?"),accept:this.acceptDelete})},acceptDelete:function(){var t=this,e=[{name:this.activeProduct.name}];this.$vs.loading({container:"#table-loader",type:"sound",scale:1}),Object(m["b"])().callFunction("ProductDelete",e).then((function(){t.notify({text:"Deleted Successful!!",title:"",color:"success"}),t.backToTable()})).catch((function(e){t.notify({text:e.message,title:"Error",color:"danger"})}))},editProduct:function(){this.visibility.isEdit=!this.visibility.isEdit},cancelProductEdit:function(){this.visibility.isEdit=!this.visibility.isEdit},updateProduct:function(){var t=this;this.$validator.validateAll().then((function(e){var a={last_update:t.AppActiveUser.first_name+" "+t.AppActiveUser.last_name,last_update_on:Date()},s=Object.assign(a,t.activeProduct);t.$vs.loading({background:t.backgroundLoadingSuccess,color:t.colorLoading,container:"#button-with-loading",scale:.45});var r=[s];e&&Object(m["b"])().callFunction("ProductEdit",r).then((function(e){t.editProduct(),t.notify({text:"Successfully Edited Product!",title:"",color:"success"}),t.$vs.loading.close("#button-with-loading > .con-vs-loading")})).catch((function(e){t.$vs.loading.close("#button-with-loading > .con-vs-loading"),t.notify({text:e.message,title:"Error",color:"danger"})}))}))},getVendors:function(){var t=this;this.axios.get(c["b"]).then((function(e){t.vendors=e.data})).catch((function(e){t.notify({title:"Error",text:e.message,color:"danger"})}))},getCategories:function(){var t=this;this.axios.get(c["a"]).then((function(e){t.categories=e.data})).catch((function(e){t.notify({title:"Error",text:e.message,color:"danger"})}))}},created:function(){this.getVendors(),this.getCategories()}},S=A,E=Object(y["a"])(S,O,$,!1,null,"a28c3386",null),Q=E.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vs-con-loading__container",attrs:{id:"table-loader"}},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-full sm:w-full md:w-1/2 lg:w-1/3 xl:w-1/4"},[a("vx-card",[a("h4",[t._v("Add Multiple Products")]),a("div",[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"mt-5 w-full",attrs:{label:"Name",name:"Product Name",placeholder:"Product Name","data-vv-validate-on":"blur"},model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("Product Name"),expression:"errors.has('Product Name')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("Product Name")))]),a("vs-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"select-large mt-5 w-full",attrs:{name:"Product Category",label:"Category"},model:{value:t.model.product.category,callback:function(e){t.$set(t.model.product,"category",e)},expression:"model.product.category"}},t._l(t.categories,(function(e){return a("vs-select-item",{attrs:{value:e.name,text:t._f("capitalize")(e.name)}})})),1),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("Product Category"),expression:"errors.has('Product Category')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("Product Category")))]),a("vs-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"select-large mt-5 w-full",attrs:{name:"Product Vendor",label:"Vendor"},model:{value:t.model.product.vendor,callback:function(e){t.$set(t.model.product,"vendor",e)},expression:"model.product.vendor"}},t._l(t.vendors,(function(e){return a("vs-select-item",{attrs:{value:e.name,text:t._f("capitalize")(e.name)}})})),1),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("Product Vendor"),expression:"errors.has('Product Vendor')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("Product Vendor")))]),a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric",expression:"'required|numeric'"}],staticClass:"mt-5 w-full",attrs:{label:"Selling Price(₦)",name:"Product Price",placeholder:"Selling Price","data-vv-validate-on":"blur"},model:{value:t.model.product.selling_price,callback:function(e){t.$set(t.model.product,"selling_price",e)},expression:"model.product.selling_price"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("Product Price"),expression:"errors.has('Product Price')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("Product Price")))]),a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric",expression:"'required|numeric'"}],staticClass:"mt-5 w-full",attrs:{label:"Crate Price(₦)",name:"Product Crate Price",placeholder:"Crate Price","data-vv-validate-on":"blur"},model:{value:t.model.product.crate_price,callback:function(e){t.$set(t.model.product,"crate_price",e)},expression:"model.product.crate_price"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("Product Crate Price"),expression:"errors.has('Product Crate Price')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("Product Crate Price")))]),a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric",expression:"'required|numeric'"}],staticClass:"mt-5 w-full",attrs:{label:"Quantity per Crate",name:"Crate Quantity","data-vv-validate-on":"blur",placeholder:"Quantity"},model:{value:t.model.product.qty_per_crate,callback:function(e){t.$set(t.model.product,"qty_per_crate",e)},expression:"model.product.qty_per_crate"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("Crate Quantity"),expression:"errors.has('Crate Quantity')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("Crate Quantity")))]),a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric",expression:"'required|numeric'"}],staticClass:"mt-5 w-full",attrs:{label:"Optimum Quantity In Stock",name:"Optimum Quantity",placeholder:"Crates","data-vv-validate-on":"blur"},model:{value:t.model.product.optimum_qty,callback:function(e){t.$set(t.model.product,"optimum_qty",e)},expression:"model.product.optimum_qty"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("Optimum Quantity"),expression:"errors.has('Optimum Quantity')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("Optimum Quantity")))]),a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric",expression:"'required|numeric'"}],staticClass:"mt-5 w-full",attrs:{label:"Worst Quantity In Stock",name:"Worst Quantity",placeholder:"Crates","data-vv-validate-on":"blur"},model:{value:t.model.product.worst_qty,callback:function(e){t.$set(t.model.product,"worst_qty",e)},expression:"model.product.worst_qty"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("Worst Quantity"),expression:"errors.has('Worst Quantity')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("Worst Quantity")))]),a("div",{staticClass:"flex mt-4"},[a("vs-button",{staticClass:"mr-2 w-full",attrs:{"icon-pack":"feather",icon:"icon-slash",type:"border",color:"danger"},on:{click:t.clearFields}},[t._v("\n              Clear\n            ")]),a("vs-button",{staticClass:"w-full",attrs:{"icon-pack":"feather",icon:"icon-plus",color:"primary",type:"border"},on:{click:t.addToCart}},[t._v("\n              Add\n            ")])],1)],1)])],1),a("div",{staticClass:"vx-col p-0 w-full sm:w-full md:w-1/2 lg:w-2/3 xl:w-3/4"},[a("vx-card",[a("div",{staticClass:"flex justify-between mb-6"},[a("h4",[a("span",{staticClass:"text-bold"},[t._v("Cart")]),a("span",[t._v("("+t._s(t.cart.length)+")")])]),a("vx-tooltip",{staticStyle:{"margin-top":"-5px"},attrs:{text:"Go Back",position:"top"}},[a("vs-button",{staticClass:"mr-2",attrs:{"icon-pack":"feather",icon:"icon-corner-up-left",color:"primary",type:"border"},on:{click:t.backToTable}},[t._v("\n              Back\n            ")])],1)],1),t.cart.length?a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-full"},[a("VuePerfectScrollbar",{staticClass:"scroll-area pr-2",attrs:{settings:t.settings}},t._l(t.cart,(function(e,s){return a("div",{staticClass:"item-details rounded flex items-center justify-between mb-2"},[a("div",{staticClass:"pl-2 flex flex-col items-center justify-center"},[a("p",{staticClass:"font-bold"},[t._v("Name")]),a("p",[t._v(t._s(t._f("capitalize")(e.name)))])]),a("div",{staticClass:"pl-2 flex flex-col items-center justify-center"},[a("p",{staticClass:"font-bold"},[t._v("Category")]),a("p",[t._v(t._s(t._f("capitalize")(e.category)))])]),a("div",{staticClass:"pl-2 flex flex-col items-center justify-center"},[a("p",{staticClass:"font-bold"},[t._v("Vendor")]),a("p",[t._v(t._s(t._f("capitalize")(e.vendor)))])]),a("div",{staticClass:"pl-2 flex flex-col items-center justify-center"},[a("p",{staticClass:"font-bold"},[t._v("Selling Price")]),a("p",{staticClass:"money"},[t._v(t._s(t._f("currency")(e.selling_price)))])]),a("div",{staticClass:"pl-2 flex flex-col items-center justify-center"},[a("p",{staticClass:"font-bold"},[t._v("Crate Price")]),a("p",{staticClass:"money"},[t._v(t._s(t._f("currency")(e.crate_price)))])]),a("div",{staticClass:"pl-2 flex flex-col items-center justify-center"},[a("p",{staticClass:"font-bold"},[t._v("Crate Qty")]),a("p",[t._v(t._s(e.qty_per_crate))])]),a("div",{staticClass:"pl-2 flex flex-col items-center justify-center"},[a("p",{staticClass:"font-bold"},[t._v("Optimum Qty")]),a("p",[t._v(t._s(e.optimum_qty))])]),a("div",{staticClass:"pl-2 flex flex-col items-center justify-center"},[a("p",{staticClass:"font-bold"},[t._v("Worst Qty")]),a("p",[t._v(t._s(e.worst_qty))])]),a("div",{staticClass:"flex items-center justify-center "},[a("vs-button",{staticClass:"mr-2 round",attrs:{size:"small",color:"danger",type:"border","icon-pack":"feather",icon:"icon-x"},on:{click:function(e){return t.removeProduct(s)}}})],1)])})),0),a("div",{staticClass:"flex mt-4"},[a("vs-button",{ref:"loadableButton",staticClass:"w-full mr-2 vs-con-loading__container",attrs:{"icon-pack":"feather",icon:"icon-x",color:"danger",id:"button-with-loading2"},on:{click:t.emptyCart}},[t._v("\n                Cancel\n              ")]),a("vs-button",{ref:"loadableButton",staticClass:"w-full vs-con-loading__container",attrs:{"icon-pack":"feather",icon:"icon-check",color:"success",id:"button-with-loading"},on:{click:t.submitCart}},[t._v("\n                Submit\n              ")])],1)],1)]):t._e(),t.cart.length?t._e():a("div",{staticClass:"loading_height bg-gray flex justify-center items-center"},[a("div",{staticClass:"flex items-center"},[a("feather-icon",{attrs:{icon:"MehIcon",svgClasses:"h-10 w-10"}}),a("p",{staticClass:"font-semibold ml-2"},[t._v("No Product in Cart")])],1)])])],1)])])},T=[];a("7514");function L(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function V(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?L(a,!0).forEach((function(e){Object(v["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):L(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var B={name:"ProductAddMultiple",props:{},components:{VuePerfectScrollbar:l.a},data:function(){return{backgroundLoading:"#7367F0",colorLoading:"white",settings:{maxScrollbarLength:60,wheelSpeed:.6},model:{name:"",product:{},allProduct:{created_on:Date(),created_by:"",qty_in_stock:0}},vendors:[],categories:[],cart:[]}},methods:{backToTable:function(){this.$emit("backToTable")},clearFields:function(){this.model.name="",this.model.product={}},addToCart:function(){var t=this;this.$validator.validateAll().then((function(e){if(e){var a={name:t.model.name.toLowerCase()},s=Object.assign(t.model.product,t.model.allProduct,a);t.checkInCart(s)?t.notify({title:"Warning",text:"Already in Cart",color:"warning"}):(t.cart.unshift(s),t.clearFields())}})).catch((function(t){}))},removeProduct:function(t){this.cart.splice(t,1)},checkInCart:function(t){var e=this.cart.find((function(e){return e.name===t.name}));return!!e},submitCart:function(){var t=this;this.$vs.loading({background:this.backgroundLoading,color:this.colorLoading,container:"#button-with-loading",scale:.45}),Object(m["b"])().callFunction("ProductCreateMany",[this.cart]).then((function(e){t.$vs.loading.close("#button-with-loading > .con-vs-loading"),t.$emit("backToTable"),t.notify({text:"Successfully Added New Products!",title:"",color:"success"}),f["a"].$emit("newProduct")})).catch((function(e){t.$vs.loading.close("#button-with-loading > .con-vs-loading"),t.notify({text:e.message,title:"Error",color:"danger"})}))},emptyCart:function(){this.cart=[]},getVendors:function(){var t=this;this.axios.get(c["b"]).then((function(e){t.vendors=e.data})).catch((function(e){t.notify({title:"Error",text:e.message,color:"danger"})}))},getCategories:function(){var t=this;this.axios.get(c["a"]).then((function(e){t.categories=e.data})).catch((function(e){t.notify({title:"Error",text:e.message,color:"danger"})}))}},computed:V({},Object(p["c"])(["AppActiveUser"])),watch:{},mounted:function(){this.model.allProduct.created_by=this.AppActiveUser.first_name+" "+this.AppActiveUser.last_name},created:function(){this.getCategories(),this.getVendors()}},F=B,M=(a("341e"),Object(y["a"])(F,D,T,!1,null,"5879ebbd",null)),I=M.exports,W={name:"ProductIndex",components:{Table:q,Detail:Q,AddMultiple:I},data:function(){return{activeComponent:"Table",activeProduct:null,products:[],keyword:!1,newProducts:[],search:{category:"all",vendor:"allVendor",order:1,searchBy:"name"}}},methods:{openAddMultiplePage:function(){this.activeComponent="AddMultiple"},viewProductDetails:function(t){this.activeProduct=t,this.activeComponent="Detail"},backToTable:function(){this.activeComponent="Table"},getProducts:function(){var t=this;f["a"].$emit("loading",!0);var e=[this.search];Object(m["b"])().callFunction("FilterProduct",e).then((function(e){t.products=e,f["a"].$emit("loading",!1),f["a"].$emit("found",e.length)})).catch((function(e){t.$vs.notify({time:2500,title:"Error",text:e.message,position:"top-right",iconPack:"feather",icon:"icon-alert-circle",color:"danger"}),f["a"].$emit("found",!1),f["a"].$emit("loading",!1)}))},quickGetProducts:function(){var t=this,e=[this.search];this.keyword=!1,Object(m["b"])().callFunction("FilterProduct",e).then((function(e){t.products=e,f["a"].$emit("found",e.length)})).catch((function(e){t.$vs.notify({time:2500,title:"Error",text:e.message,position:"top-right",iconPack:"feather",icon:"icon-alert-circle",color:"danger"}),f["a"].$emit("found",!1)}))},searchByName:function(t){var e=this;null===t||(this.keyword=t||t,this.newProducts=[],this.products.filter((function(a){a.name.toLowerCase().includes(t.toLowerCase())&&e.newProducts.push(a)})))},listener:function(){var t=this;f["a"].$on("newProduct",(function(){return t.getProducts()})),f["a"].$on("clearFilters",(function(){t.search={category:"all",vendor:"allVendor",order:1,searchBy:"name"},t.quickGetProducts()})),f["a"].$on("searchDb",(function(e){return t.searchByName(e)}))}},mounted:function(){this.getProducts(),this.listener()},watch:{order:function(){this.quickGetProducts()},vendor:function(){this.quickGetProducts()},category:function(){this.quickGetProducts()},searchBy:function(){this.quickGetProducts()}},computed:{order:function(){return this.search.order},vendor:function(){return this.search.vendor},category:function(){return this.search.category},searchBy:function(){return this.search.searchBy}}},z=W,U=Object(y["a"])(z,s,r,!1,null,"4a7eaa45",null);e["default"]=U.exports}}]);
//# sourceMappingURL=chunk-230a2818.55c59cf0.js.map